<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="1">

        <!-- Record Rule for Main Warehouse Users -->
        <record id="stock_picking_main_warehouse_rule" model="ir.rule">
            <field name="name">Main Warehouse: See only Main warehouse operations</field>
            <field name="model_id" ref="stock.model_stock_picking"/>
            <field name="groups" eval="[(4, ref('warehouse_tansfer_automation.group_main_warehouse'))]"/>
            <field name="domain_force">[
                '|', '|', '|',
                ('picking_type_id.warehouse_id.name', '=', 'SSAOCO-Main'),
                ('location_id.warehouse_id.name', '=', 'SSAOCO-Main'),
                ('location_dest_id.warehouse_id.name', '=', 'SSAOCO-Main'),
                ('location_dest_id.usage', '=', 'transit')
            ]</field>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_unlink" eval="True"/>
        </record>

        <!-- Record Rule for Dammam Warehouse Users -->
        <record id="stock_picking_dammam_warehouse_rule" model="ir.rule">
            <field name="name">Dammam Warehouse: See only Dammam warehouse operations</field>
            <field name="model_id" ref="stock.model_stock_picking"/>
            <field name="groups" eval="[(4, ref('warehouse_tansfer_automation.group_dammam_warehouse'))]"/>
            <field name="domain_force">[
                '|', '|', '|',
                ('picking_type_id.warehouse_id.name', '=', 'SSAOCO-Dammam'),
                ('location_id.warehouse_id.name', '=', 'SSAOCO-Dammam'),
                ('location_dest_id.warehouse_id.name', '=', 'SSAOCO-Dammam'),
                '&amp;', ('location_id.usage', '=', 'transit'),
                ('location_dest_id.warehouse_id.name', '=', 'SSAOCO - Dammam')
            ]</field>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_unlink" eval="True"/>
        </record>

        <!-- Record Rule for Baladiya Warehouse Users -->
        <record id="stock_picking_baladiya_warehouse_rule" model="ir.rule">
            <field name="name">Baladiya Warehouse: See only Baladiya warehouse operations</field>
            <field name="model_id" ref="stock.model_stock_picking"/>
            <field name="groups" eval="[(4, ref('warehouse_tansfer_automation.group_baladiya_warehouse'))]"/>
            <field name="domain_force">[
                '|', '|', '|',
                ('picking_type_id.warehouse_id.name', '=', 'SSAOCO-Baladiya'),
                ('location_id.warehouse_id.name', '=', 'SSAOCO-Baladiya'),
                ('location_dest_id.warehouse_id.name', '=', 'SSAOCO-Baladiya'),
                '&amp;', ('location_id.usage', '=', 'transit'),
                ('location_dest_id.warehouse_id.name', '=', 'SSAOCO - Baladiya')
            ]</field>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_unlink" eval="True"/>
        </record>

        <!-- FIXED: Record Rule for Stock Locations - Main Warehouse -->
        <record id="stock_location_main_warehouse_rule" model="ir.rule">
            <field name="name">Main Warehouse: See all locations</field>
            <field name="model_id" ref="stock.model_stock_location"/>
            <field name="groups" eval="[(4, ref('warehouse_tansfer_automation.group_main_warehouse'))]"/>
            <field name="domain_force">[(1, '=', 1)]</field>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_unlink" eval="True"/>
        </record>

        <!-- FIXED: Record Rule for Stock Locations - Dammam Warehouse -->
        <record id="stock_location_dammam_warehouse_rule" model="ir.rule">
            <field name="name">Dammam Warehouse: See Dammam, Main, and transit locations</field>
            <field name="model_id" ref="stock.model_stock_location"/>
            <field name="groups" eval="[(4, ref('warehouse_tansfer_automation.group_dammam_warehouse'))]"/>
            <field name="domain_force">[
                '|', '|', '|', '|', '|',
                ('warehouse_id.name', '=', 'SSAOCO-Dammam'),
                ('warehouse_id.name', '=', 'SSAOCO-Main'),
                ('usage', '=', 'transit'),
                ('usage', '=', 'supplier'),
                ('usage', '=', 'customer'),
                ('usage', '=', 'view')
            ]</field>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="False"/>
            <field name="perm_create" eval="False"/>
            <field name="perm_unlink" eval="False"/>
        </record>

        <!-- FIXED: Record Rule for Stock Locations - Baladiya Warehouse -->
        <record id="stock_location_baladiya_warehouse_rule" model="ir.rule">
            <field name="name">Baladiya Warehouse: See Baladiya, Main, and transit locations</field>
            <field name="model_id" ref="stock.model_stock_location"/>
            <field name="groups" eval="[(4, ref('warehouse_tansfer_automation.group_baladiya_warehouse'))]"/>
            <field name="domain_force">[
                '|', '|', '|', '|', '|',
                ('warehouse_id.name', '=', 'SSAOCO-Baladiya'),
                ('warehouse_id.name', '=', 'SSAOCO-Main'),
                ('usage', '=', 'transit'),
                ('usage', '=', 'supplier'),
                ('usage', '=', 'customer'),
                ('usage', '=', 'view')
            ]</field>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="False"/>
            <field name="perm_create" eval="False"/>
            <field name="perm_unlink" eval="False"/>
        </record>

        <!-- Record Rule for Operation Types - Dammam Warehouse -->
        <record id="stock_picking_type_dammam_warehouse_rule" model="ir.rule">
            <field name="name">Dammam Warehouse: See only Dammam operation types</field>
            <field name="model_id" ref="stock.model_stock_picking_type"/>
            <field name="groups" eval="[(4, ref('warehouse_tansfer_automation.group_dammam_warehouse'))]"/>
            <field name="domain_force">[
                ('warehouse_id.name', '=', 'SSAOCO-Dammam')
            ]</field>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="False"/>
            <field name="perm_unlink" eval="False"/>
        </record>

        <!-- Record Rule for Operation Types - Baladiya Warehouse -->
        <record id="stock_picking_type_baladiya_warehouse_rule" model="ir.rule">
            <field name="name">Baladiya Warehouse: See only Baladiya operation types</field>
            <field name="model_id" ref="stock.model_stock_picking_type"/>
            <field name="groups" eval="[(4, ref('warehouse_tansfer_automation.group_baladiya_warehouse'))]"/>
            <field name="domain_force">[
                ('warehouse_id.name', '=', 'SSAOCO-Baladiya')
            ]</field>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="False"/>
            <field name="perm_unlink" eval="False"/>
        </record>

        <!-- Record Rule for Operation Types - Main Warehouse -->
        <record id="stock_picking_type_main_warehouse_rule" model="ir.rule">
            <field name="name">Main Warehouse: See all operation types</field>
            <field name="model_id" ref="stock.model_stock_picking_type"/>
            <field name="groups" eval="[(4, ref('warehouse_tansfer_automation.group_main_warehouse'))]"/>
            <field name="domain_force">[(1, '=', 1)]</field>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_unlink" eval="True"/>
        </record>

    </data>
</odoo>






<!--<?xml version="1.0" encoding="utf-8"?>-->
<!--<odoo>-->
<!--    <data noupdate="1">-->

<!--        &lt;!&ndash; Record Rule for Main Warehouse Users &ndash;&gt;-->
<!--        <record id="stock_picking_main_warehouse_rule" model="ir.rule">-->
<!--            <field name="name">Main Warehouse: See only Main warehouse operations</field>-->
<!--            <field name="model_id" ref="stock.model_stock_picking"/>-->
<!--            <field name="groups" eval="[(4, ref('warehouse_tansfer_automation.group_main_warehouse'))]"/>-->
<!--            <field name="domain_force">[-->
<!--                '|', '|', '|', '|', '|',-->
<!--                ('picking_type_id.warehouse_id.name', '=', 'SSAOCO-Main Office'),-->
<!--                ('location_id.warehouse_id.name', '=', 'SSAOCO-Main Office'),-->
<!--                ('location_dest_id.complete_name', '=', 'DW/Input'),-->
<!--                ('location_dest_id.complete_name', '=', 'Balad/Input'),-->
<!--                '&amp;', ('picking_type_id.warehouse_id.name', '=', 'SSAOCO - Dammam'),-->
<!--                ('location_id.warehouse_id.name', '=', 'SSAOCO-Main Office'),-->
<!--                '&amp;', ('picking_type_id.warehouse_id.name', '=', 'SSAOCO - Baladiya'),-->
<!--                ('location_id.warehouse_id.name', '=', 'SSAOCO-Main Office')-->
<!--            ]</field>-->
<!--            <field name="perm_read" eval="True"/>-->
<!--            <field name="perm_write" eval="True"/>-->
<!--            <field name="perm_create" eval="True"/>-->
<!--            <field name="perm_unlink" eval="True"/>-->
<!--        </record>-->

<!--        &lt;!&ndash; Record Rule for Dammam Warehouse Users &ndash;&gt;-->
<!--        <record id="stock_picking_dammam_warehouse_rule" model="ir.rule">-->
<!--            <field name="name">Dammam Warehouse: See only Dammam warehouse operations</field>-->
<!--            <field name="model_id" ref="stock.model_stock_picking"/>-->
<!--            <field name="groups" eval="[(4, ref('warehouse_tansfer_automation.group_dammam_warehouse'))]"/>-->
<!--            <field name="domain_force">[-->
<!--                '|', '|', '|',-->
<!--                ('picking_type_id.warehouse_id.name', '=', 'SSAOCO - Dammam'),-->
<!--                ('location_id.warehouse_id.name', '=', 'SSAOCO - Dammam'),-->
<!--                ('location_dest_id.warehouse_id.name', '=', 'SSAOCO - Dammam'),-->
<!--                '&amp;', ('location_id.complete_name', '=', 'DW/Input'),-->
<!--                ('picking_type_id.warehouse_id.name', '=', 'SSAOCO - Dammam')-->
<!--            ]</field>-->
<!--            <field name="perm_read" eval="True"/>-->
<!--            <field name="perm_write" eval="True"/>-->
<!--            <field name="perm_create" eval="True"/>-->
<!--            <field name="perm_unlink" eval="True"/>-->
<!--        </record>-->

<!--        &lt;!&ndash; Record Rule for Baladiya Warehouse Users &ndash;&gt;-->
<!--        <record id="stock_picking_baladiya_warehouse_rule" model="ir.rule">-->
<!--            <field name="name">Baladiya Warehouse: See only Baladiya warehouse operations</field>-->
<!--            <field name="model_id" ref="stock.model_stock_picking"/>-->
<!--            <field name="groups" eval="[(4, ref('warehouse_tansfer_automation.group_baladiya_warehouse'))]"/>-->
<!--            <field name="domain_force">[-->
<!--                '|', '|', '|',-->
<!--                ('picking_type_id.warehouse_id.name', '=', 'SSAOCO - Baladiya'),-->
<!--                ('location_id.warehouse_id.name', '=', 'SSAOCO - Baladiya'),-->
<!--                ('location_dest_id.warehouse_id.name', '=', 'SSAOCO - Baladiya'),-->
<!--                '&amp;', ('location_id.complete_name', '=', 'Balad/Input'),-->
<!--                ('picking_type_id.warehouse_id.name', '=', 'SSAOCO - Baladiya')-->
<!--            ]</field>-->
<!--            <field name="perm_read" eval="True"/>-->
<!--            <field name="perm_write" eval="True"/>-->
<!--            <field name="perm_create" eval="True"/>-->
<!--            <field name="perm_unlink" eval="True"/>-->
<!--        </record>-->

<!--        &lt;!&ndash; Record Rule for Stock Locations - Main Warehouse &ndash;&gt;-->
<!--        <record id="stock_location_main_warehouse_rule" model="ir.rule">-->
<!--            <field name="name">Main Warehouse: See all locations</field>-->
<!--            <field name="model_id" ref="stock.model_stock_location"/>-->
<!--            <field name="groups" eval="[(4, ref('warehouse_tansfer_automation.group_main_warehouse'))]"/>-->
<!--            <field name="domain_force">[(1, '=', 1)]</field>-->
<!--            <field name="perm_read" eval="True"/>-->
<!--            <field name="perm_write" eval="True"/>-->
<!--            <field name="perm_create" eval="True"/>-->
<!--            <field name="perm_unlink" eval="True"/>-->
<!--        </record>-->

<!--        &lt;!&ndash; Record Rule for Stock Locations - Dammam Warehouse &ndash;&gt;-->
<!--        <record id="stock_location_dammam_warehouse_rule" model="ir.rule">-->
<!--            <field name="name">Dammam Warehouse: See only Dammam and Main locations</field>-->
<!--            <field name="model_id" ref="stock.model_stock_location"/>-->
<!--            <field name="groups" eval="[(4, ref('warehouse_tansfer_automation.group_dammam_warehouse'))]"/>-->
<!--            <field name="domain_force">[-->
<!--                '|', '|', '|', '|',-->
<!--                ('warehouse_id.name', '=', 'SSAOCO - Dammam'),-->
<!--                ('warehouse_id.name', '=', 'SSAOCO-Main Office'),-->
<!--                ('complete_name', '=', 'DW/Input'),-->
<!--                ('usage', '=', 'transit'),-->
<!--                ('usage', '=', 'supplier')-->
<!--            ]</field>-->
<!--            <field name="perm_read" eval="True"/>-->
<!--            <field name="perm_write" eval="False"/>-->
<!--            <field name="perm_create" eval="False"/>-->
<!--            <field name="perm_unlink" eval="False"/>-->
<!--        </record>-->

<!--        &lt;!&ndash; Record Rule for Stock Locations - Baladiya Warehouse &ndash;&gt;-->
<!--        <record id="stock_location_baladiya_warehouse_rule" model="ir.rule">-->
<!--            <field name="name">Baladiya Warehouse: See only Baladiya and Main locations</field>-->
<!--            <field name="model_id" ref="stock.model_stock_location"/>-->
<!--            <field name="groups" eval="[(4, ref('warehouse_tansfer_automation.group_baladiya_warehouse'))]"/>-->
<!--            <field name="domain_force">[-->
<!--                '|', '|', '|', '|',-->
<!--                ('warehouse_id.name', '=', 'SSAOCO - Baladiya'),-->
<!--                ('warehouse_id.name', '=', 'SSAOCO-Main Office'),-->
<!--                ('complete_name', '=', 'Balad/Input'),-->
<!--                ('usage', '=', 'transit'),-->
<!--                ('usage', '=', 'supplier')-->
<!--            ]</field>-->
<!--            <field name="perm_read" eval="True"/>-->
<!--            <field name="perm_write" eval="False"/>-->
<!--            <field name="perm_create" eval="False"/>-->
<!--            <field name="perm_unlink" eval="False"/>-->
<!--        </record>-->

<!--        &lt;!&ndash; Record Rule for Operation Types - Dammam Warehouse &ndash;&gt;-->
<!--        <record id="stock_picking_type_dammam_warehouse_rule" model="ir.rule">-->
<!--            <field name="name">Dammam Warehouse: See only Dammam operation types</field>-->
<!--            <field name="model_id" ref="stock.model_stock_picking_type"/>-->
<!--            <field name="groups" eval="[(4, ref('warehouse_tansfer_automation.group_dammam_warehouse'))]"/>-->
<!--            <field name="domain_force">[-->
<!--                ('warehouse_id.name', '=', 'SSAOCO - Dammam')-->
<!--            ]</field>-->
<!--            <field name="perm_read" eval="True"/>-->
<!--            <field name="perm_write" eval="True"/>-->
<!--            <field name="perm_create" eval="False"/>-->
<!--            <field name="perm_unlink" eval="False"/>-->
<!--        </record>-->

<!--        &lt;!&ndash; Record Rule for Operation Types - Baladiya Warehouse &ndash;&gt;-->
<!--        <record id="stock_picking_type_baladiya_warehouse_rule" model="ir.rule">-->
<!--            <field name="name">Baladiya Warehouse: See only Baladiya operation types</field>-->
<!--            <field name="model_id" ref="stock.model_stock_picking_type"/>-->
<!--            <field name="groups" eval="[(4, ref('warehouse_tansfer_automation.group_baladiya_warehouse'))]"/>-->
<!--            <field name="domain_force">[-->
<!--                ('warehouse_id.name', '=', 'SSAOCO - Baladiya')-->
<!--            ]</field>-->
<!--            <field name="perm_read" eval="True"/>-->
<!--            <field name="perm_write" eval="True"/>-->
<!--            <field name="perm_create" eval="False"/>-->
<!--            <field name="perm_unlink" eval="False"/>-->
<!--        </record>-->

<!--        &lt;!&ndash; Record Rule for Operation Types - Main Warehouse &ndash;&gt;-->
<!--        <record id="stock_picking_type_main_warehouse_rule" model="ir.rule">-->
<!--            <field name="name">Main Warehouse: See all operation types</field>-->
<!--            <field name="model_id" ref="stock.model_stock_picking_type"/>-->
<!--            <field name="groups" eval="[(4, ref('warehouse_tansfer_automation.group_main_warehouse'))]"/>-->
<!--            <field name="domain_force">[(1, '=', 1)]</field>-->
<!--            <field name="perm_read" eval="True"/>-->
<!--            <field name="perm_write" eval="True"/>-->
<!--            <field name="perm_create" eval="True"/>-->
<!--            <field name="perm_unlink" eval="True"/>-->
<!--        </record>-->

<!--    </data>-->
<!--</odoo>-->