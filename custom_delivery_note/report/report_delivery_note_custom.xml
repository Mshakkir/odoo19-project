<odoo>
    <template id="custom_delivery_note" inherit_id="stock.report_delivery_document">
        <xpath expr="//t[@t-call='web.external_layout']" position="replace">
            <t t-call="web.html_container">

                <!-- ===== Custom Arabic Font ===== -->
                <head>
                    <style>
                        @font-face {
                        font-family: 'Tajawal';
                        src: url('/custom_sa_quotation/static/src/fonts/Tajawal-Black.ttf') format('truetype');
                        font-weight: 900;
                        font-style: normal;
                        }
                    </style>
                </head>
                <!-- ============================== -->

                <!-- Loop through delivery orders -->
                <t t-foreach="docs" t-as="doc">

                    <!-- Layout wrapper -->
                    <div class="page">

                    <div style="border: 3px solid black; padding: 15px; border-radius: 5px;">

                        <!-- HEADER SECTION - UPDATED -->
                        <div class="page">
                            <div class="header" style="border:1px solid white; border-radius: 6px; background: white; margin-bottom: 15px;">

                                <!-- Company Names in One Row -->
                                <table style="width: 100%; border-collapse: collapse;">
                                    <tr>
                                        <td style="width: 50%; padding: 10px 20px; text-align: left; vertical-align: middle; border-right: 2px solid white; border-bottom: 1px solid white;border-left: 1px solid white; border-top: 1px solid white;">
                                            <div style="color: #8B1538; font-size: 14px; font-weight: bold; text-transform: uppercase;">
                                                SAMEER SHARAF AL OTAIBI TRADING COMPANY
                                            </div>
                                        </td>
                                        <td style="width: 50%; padding: 10px 20px; text-align: right; vertical-align: middle; border-bottom: 1px solid white;border-right: 1px solid white;border-top: 1px solid white;">
                                            <div style="color: #8B1538; font-size: 14px; font-weight: 900; direction: rtl; font-family: 'Tajawal', sans-serif;" class="arabic-word">
                                                شركة سمير شرف العتيبي التجارية
                                            </div>
                                        </td>
                                    </tr>
                                </table>

                                <!-- Details and Logo Row -->
                                <table style="width: 100%; border-collapse: collapse;">
                                    <tr>
                                        <!-- Left Column: English Info -->
                                        <td style="width: 33%; text-align: left; font-size: 11px; color: #333; vertical-align: middle; padding: 15px 20px; border-right: 2px solid white;font-size:17px;border-bottom: 1px solid white;border-left: 1px solid white; border-top: 1px solid white;">
                                            <div style="line-height: 1.6; font-weight: 700;">
                                                C.R. 4030216154<br/>
                                                VAT Regd: 311299944700003
                                            </div>
                                        </td>

                                        <!-- Center Column: Company Logo -->
                                        <td style="width: 34%; text-align: center; vertical-align: middle; padding: 15px 20px; border-right: 2px solid white; border-bottom: 1px solid white;">
                                            <t t-if="o.company_id.logo">
                                                <img t-att-src="image_data_uri(o.company_id.logo)"
                                                     style="max-height: 100px; max-width: 100%; object-fit: contain;"/>
                                            </t>
                                        </td>

                                        <!-- Right Column: Arabic Info -->
                                        <td style="width: 33%; text-align: right; font-size: 11px; color: #333; vertical-align: middle; direction: rtl; padding: 15px 20px; border-bottom: 1px solid white;border-right: 1px solid white;border-top: 1px solid white;">
                                            <div style="line-height: 1.6; font-family: 'Tajawal', sans-serif; font-weight:900; direction: rtl;font-size:15px;" >
                                                ٤٠٣٠٢١٦١٥٤ :س.ت<br/>
                                                ٣١١٢٩٩٩٤٤٧٠٠٠٠٣ :الرقم الضريبي
                                            </div>
                                        </td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                    </div>


                        <t t-call="web.external_layout">

                            <!-- ===== Title Section ===== -->
                            <div style="padding-top:70px;">
                                <div style=" background-color:#d3d3d3; color:black; padding:8px ; text-align:center; margin-bottom:10px ; font-weight:bold; font-size:16px;">
                                    Delivery Note /
                                    <span style="font-family: 'Tajawal', sans-serif; font-weight:900; direction: rtl;">
                                        مذكرة التسليم
                                    </span>
                                </div>
                            </div>


                            <table width="100%" border="1"
                                   style="border-collapse: collapse; font-size: 13px;margin-top:10px;" cellpadding="5">
                                <tr style="background-color: #d3d3d3;">
                                    <td colspan="2" style="padding: 4px; font-weight: bold;">Sold To /
                                        <span style="font-family: 'Tajawal', sans-serif; font-weight:900; direction: rtl;">
                                            اسم العميل
                                        </span>
                                    </td>
                                    <td style="padding: 4px; font-weight: bold;">VAT NO /
                                        <span style="font-family: 'Tajawal', sans-serif; font-weight:900; direction: rtl;">
                                            الرقم الضريبي
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td colspan="2" style="padding: 4px;">
                                        <span t-field="doc.partner_id.name"/>
                                    </td>
                                    <td style="padding: 4px;">
                                        <span t-field="doc.partner_id.vat"/>
                                    </td>
                                </tr>
                                <tr style="background-color: #d3d3d3;">
                                    <td style="padding: 4px; font-weight: bold;">Delivery Note No. /
                                        <span style="font-family: 'Tajawal', sans-serif; font-weight:900; direction: rtl;">
                                            رقم الفاتورة
                                        </span>
                                    </td>
                                    <td style="padding: 4px; font-weight: bold;">Date /
                                        <span style="font-family: 'Tajawal', sans-serif; font-weight:900; direction: rtl;">
                                            تاريخ الفاتورة
                                        </span>
                                    </td>
                                    <td style="padding: 4px; font-weight: bold;">P.O No /
                                        <span style="font-family: 'Tajawal', sans-serif; font-weight:900; direction: rtl;">
                                            رقم الطلب
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td style="padding: 4px;">
                                        <span t-field="doc.name"/>
                                    </td>
                                    <td style="padding: 4px;">
                                        <span t-field="doc.scheduled_date"/>
                                    </td>
                                    <!--                                    <td style="padding: 4px;">-->
                                    <!--                                        <span t-field="doc.origin"/>-->
                                    <!--                                    </td>-->
                                    <td style="padding: 4px;">
                                        <span t-if="doc.sale_id" t-field="doc.sale_id.client_order_ref"/>
                                        <span t-else="">-</span>
                                    </td>
                                </tr>
                            </table>

                            <!-- ===== Products Table ===== -->
                            <table width="100%" style="border-collapse:collapse; margin-top:15px; font-size:16px;"
                                   border="2">
                                <thead style="background-color: #9e9d9d; padding:10px;">
                                    <tr>
                                        <th style="text-align:center; padding:10px; color:#080808;">SN
                                            <br/>
                                            <span style="font-family: 'Tajawal', sans-serif; font-weight:900; direction: rtl;">
                                                الرقم
                                            </span>
                                        </th>
                                        <th style="text-align:center; padding:10px; color:#080808;">Product
                                            <br/>
                                            <span style="font-family: 'Tajawal', sans-serif; font-weight:900; direction: rtl;">
                                                المنتج
                                            </span>
                                        </th>
                                        <th style="text-align:center; padding:10px; color:#080808;">Quantity
                                            <br/>
                                            <span style="font-family: 'Tajawal', sans-serif; font-weight:900; direction: rtl;">
                                                الكمية
                                            </span>
                                        </th>
                                        <th style="text-align:center; padding:10px; color:#080808;">Unit
                                            <br/>
                                            <span style="font-family: 'Tajawal', sans-serif; font-weight:900; direction: rtl;">
                                                الوحدة
                                            </span>
                                        </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr t-foreach="enumerate(doc.move_ids)" t-as="line">
                                        <!-- SN -->
                                        <td style="text-align:center;">
                                            <t t-esc="line[0] + 1"/>
                                        </td>

                                        <!-- Product -->
                                        <td style="text-align:center">
                                            <span t-field="line[1].product_id.default_code"/>
                                            -
                                            <span t-field="line[1].product_id.name"/>
                                        </td>

                                        <!-- Quantity -->
                                        <td style="text-align:center;">
                                            <span t-field="line[1].product_uom_qty"/>
                                        </td>

                                        <!-- Unit -->
                                        <td style="text-align:center;">
                                            <span t-field="line[1].product_uom.name"/>
                                        </td>
                                    </tr>

                                </tbody>

                            </table>


                            <table width="100%" border="1"
                                   style="border-collapse: collapse; font-size: 14px; margin-top: 15px;"
                                   cellpadding="5">
                                <!-- Row 1 -->
                                <tr>
                                    <td width="33%" style="padding-left:3px;">
                                        <strong>Delivered by :</strong>
                                        Administrator
                                        <br/>
                                        <span style="font-family: 'Tajawal', sans-serif; font-weight:900; direction: rtl;">
                                            سلمت بواسطة
                                        </span>
                                    </td>
                                    <td width="33%" style="padding-left:3px;">
                                        <strong>Received By :</strong>
                                        <br/>
                                        <span style="font-family: 'Tajawal', sans-serif; font-weight:900; direction: rtl;">
                                            المستلم
                                        </span>
                                    </td>
                                    <td width="34%" rowspan="3">
                                        <strong style="padding-left:3px;">
                                            / Total Qty :
                                            <span style="font-family: 'Tajawal', sans-serif; font-weight:900; direction: rtl;">
                                                إجمالي الكمية
                                            </span>
                                        </strong>
                                        <span t-esc="sum(line.product_uom_qty for line in doc.move_ids)"/>
                                    </td>

                                </tr>

                                <!-- Row 2 -->
                                <tr>
                                    <td style="padding-left:3px;">
                                        <strong>Name :</strong>
                                        Administrator
                                        <br/>
                                        <span>الاسم</span>
                                    </td>
                                    <td style="padding-left:3px;">
                                        <strong>Name :</strong>
                                        <br/>
                                        <span>الاسم</span>
                                    </td>
                                </tr>

                                <!-- Row 3 -->
                                <tr>
                                    <td style="padding-left:3px;">
                                        <strong>Signature :</strong>
                                        <br/>
                                        <span>التوقيع</span>
                                    </td>
                                    <td style="padding-left:3px;">
                                        <strong>Signature :</strong>
                                        <br/>
                                        <span>التوقيع</span>
                                        <br/>
                                        <br/>
                                        <strong>Date :</strong>
                                        <br/>
                                        <span>التاريخ</span>
                                        <br/>
                                        <strong>ID NO :</strong>
                                        <br/>
                                        <span>رقم الهوية</span>
                                    </td>
                                </tr>
                            </table>

                            <!-- Footer Contact Info -->
                            <div style="border: 2px solid black; font-size: 16px; margin-top: 10px; padding: 10px; text-align: center;">
                                الفيحاء 7655 – جدة – 22244-3108 – المملكة العربية السعودية – جوال : 0540831118
                                <br/>
                                <strong>Al Fayha 7655 - Jeddah 22244-3108 - Saudi Arabia - Mobile : 0540831118</strong>
                                <br/>
                                Email: ssaoe.jeddah@gmail.com
                            </div>


                        </t>

                    </div>
                </t>

            </t>

        </xpath>
    </template>
</odoo>
