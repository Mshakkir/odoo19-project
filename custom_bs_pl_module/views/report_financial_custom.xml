<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Inherit the original financial report template -->
    <template id="report_financial_custom"
              inherit_id="accounting_pdf_reports.report_financial"
              name="Custom Financial Reports (Balance Sheet & P&L)">

        <!-- Custom titles based on report type -->
        <xpath expr="//div[@class='row text-center']/h2" position="replace">
            <t t-if="data.get('account_report_id') and data['account_report_id'][1] == 'Balance Sheet'">
                <h2><strong>Custom Balance Sheet</strong></h2>
            </t>
            <t t-elif="data.get('account_report_id') and data['account_report_id'][1] == 'Profit and Loss'">
                <h2><strong>Custom Profit and Loss</strong></h2>
            </t>
            <t t-else="">
                <h2><strong>Financial Report</strong></h2>
            </t>
        </xpath>

        <!-- Custom footer for each -->
        <xpath expr="//div[@class='page']" position="inside">
            <div class="text-end mt-5">
                <small t-if="data.get('account_report_id') and data['account_report_id'][1] == 'Balance Sheet'">
                    Generated by Custom Balance Sheet Module
                </small>
                <small t-elif="data.get('account_report_id') and data['account_report_id'][1] == 'Profit and Loss'">
                    Generated by Custom Profit &amp; Loss Module
                </small>
                <small t-else="">
                    Generated by Financial Report Module
                </small>
            </div>
        </xpath>
    </template>

    <!-- Report registrations -->
    <report
        id="action_report_balance_sheet_pdf"
        model="accounting.report"
        string="Balance Sheet PDF"
        report_type="qweb-pdf"
        name="custom_bs_pl_module.report_financial_custom"
        file="custom_bs_pl_module.report_financial_custom"
        print_report_name="'Balance Sheet - %s' % (object.date_to or '')"
    />

    <report
        id="action_report_profit_loss_pdf"
        model="accounting.report"
        string="Profit and Loss PDF"
        report_type="qweb-pdf"
        name="custom_bs_pl_module.report_financial_custom"
        file="custom_bs_pl_module.report_financial_custom"
        print_report_name="'Profit and Loss - %s' % (object.date_to or '')"
    />
</odoo>
