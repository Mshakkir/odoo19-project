<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <!-- QWeb PDF Report Action -->
    <report
        id="action_report_cashbook_analytic"
        model="account.cashbook.report"
        string="Cash Book with Analytic"
        report_type="qweb-pdf"
        name="om_account_cashbook_analytic.report_cashbook_analytic"
        file="om_account_cashbook_analytic.report_cashbook_analytic"
        print_report_name="'Cash Book - %s' % (object.date_from)"
    />

    <!-- Report Template -->
    <template id="report_cashbook_analytic">
        <t t-call="web.html_container">
            <t t-set="data_report_margin_top" t-value="12"/>
            <t t-set="data_report_header_spacing" t-value="9"/>
            <t t-set="data_report_dpi" t-value="110"/>
            <t t-call="web.internal_layout">
                <div class="page">
                    <h2>Cash Book Report
                        <span t-if="group_by_analytic and report_type == 'combined'">
                            - Grouped by Analytic Account
                        </span>
                    </h2>
                    <p><strong>Date From:</strong> <span t-esc="object.date_from"/></p>
                    <p><strong>Date To:</strong> <span t-esc="object.date_to"/></p>

                    <!-- Sample report table -->
                    <table class="table table-sm o_main_table">
                        <thead>
                            <tr>
                                <th>Date</th>
                                <th>Journal</th>
                                <th>Account</th>
                                <th>Analytic Account</th>
                                <th>Label</th>
                                <th>Debit</th>
                                <th>Credit</th>
                                <th>Balance</th>
                            </tr>
                        </thead>
                        <tbody>
                            <t t-foreach="object.get_report_lines()" t-as="line">
                                <tr>
                                    <td><span t-esc="line.date"/></td>
                                    <td><span t-esc="line.journal"/></td>
                                    <td><span t-esc="line.account"/></td>
                                    <td><span t-esc="line.analytic_account"/></td>
                                    <td><span t-esc="line.label"/></td>
                                    <td class="text-right"><span t-esc="line.debit"/></td>
                                    <td class="text-right"><span t-esc="line.credit"/></td>
                                    <td class="text-right"><span t-esc="line.balance"/></td>
                                </tr>
                            </t>
                        </tbody>
                    </table>
                </div>
            </t>
        </t>
    </template>

</odoo>
