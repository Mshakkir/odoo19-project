<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">

    <!-- Inject filter bar into ListController template -->
    <t t-name="web.ListController" t-inherit="web.ListController" t-inherit-mode="extension">
        <xpath expr="//div[hasclass('o_list_view')]" position="before">
            <t t-if="model.config.resModel === 'product.stock.ledger'">
                <StockLedgerFilterBar
                    warehouses="slWarehouses.list"
                    onApply.bind="onSLFilterApply"
                    onClear.bind="onSLFilterClear"
                />
            </t>
        </xpath>
    </t>

    <!-- Filter Bar template -->
    <t t-name="product_stock_ledger_filter.FilterBar">
        <div class="o_stock_ledger_filter_bar">

            <div class="slf-field slf-field-lg">
                <input
                    type="text"
                    class="slf-input"
                    placeholder="Product name or code"
                    t-model="state.product"
                />
            </div>

            <div class="slf-field">
                <select class="slf-select" t-model="state.warehouse">
                    <option value="">Warehouse</option>
                    <t t-foreach="props.warehouses" t-as="wh" t-key="wh.id">
                        <option t-att-value="wh.id" t-esc="wh.name"/>
                    </t>
                </select>
            </div>

            <div class="slf-date-field">
                <input type="date" class="slf-input slf-date" t-model="state.dateFrom"/>
            </div>

            <span class="slf-arrow">â†’</span>

            <div class="slf-date-field">
                <input type="date" class="slf-input slf-date" t-model="state.dateTo"/>
            </div>

            <div class="slf-field">
                <input
                    type="text"
                    class="slf-input"
                    placeholder="Voucher"
                    t-model="state.voucher"
                />
            </div>

            <div class="slf-field slf-field-sm">
                <select class="slf-select" t-model="state.moveType">
                    <option value="">Type</option>
                    <option value="IN">IN</option>
                    <option value="OUT">OUT</option>
                    <option value="INT">INT</option>
                </select>
            </div>

            <div class="slf-field slf-field-md">
                <select class="slf-select" t-model="state.invoiceStatus">
                    <option value="">Invoice Status</option>
                    <option value="invoiced">Invoiced</option>
                    <option value="to invoice">To Invoice</option>
                    <option value="nothing">Nothing to Invoice</option>
                    <option value="upselling">Upselling</option>
                </select>
            </div>

            <button class="slf-btn slf-btn-apply" t-on-click="apply">
                Apply <span class="slf-key-hint">Enter</span>
            </button>

            <button class="slf-btn slf-btn-clear" t-on-click="clear">
                Clear <span class="slf-key-hint">Esc</span>
            </button>

        </div>
    </t>

</templates>
