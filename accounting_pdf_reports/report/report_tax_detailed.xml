<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="report_tax_detailed" name="Tax Report Detailed">
        <div class="o_tax_report">
            <h4>Detailed Tax Report</h4>
            <t t-foreach="lines.get('sale', [])" t-as="line">
                <h5 style="margin-top: 10px;">
                    <strong t-esc="line.get('name')"/>
                </h5>
                <table class="table table-sm table-reports" style="margin-bottom: 10px;">
                    <thead>
                        <tr>
                            <th>Invoice</th>
                            <th>Date</th>
                            <th>Customer / Vendor</th>
                            <th>Base Amount</th>
                            <th>Tax Amount</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr t-foreach="line.get('transactions', [])" t-as="tx">
                            <td><span t-esc="tx.get('invoice')"/></td>
                            <td><span t-esc="tx.get('date')"/></td>
                            <td><span t-esc="tx.get('partner')"/></td>
                            <td>
                                <span t-esc="tx.get('base')"
                                      t-options="{'widget': 'monetary', 'display_currency': res_company.currency_id}"/>
                            </td>
                            <td>
                                <span t-esc="tx.get('tax')"
                                      t-options="{'widget': 'monetary', 'display_currency': res_company.currency_id}"/>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </t>
        </div>
    </template>
</odoo>
