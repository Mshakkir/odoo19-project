<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="view_accounting_report_inherit_analytic" model="ir.ui.view">
        <field name="name">accounting.report.wizard.analytic.inherit</field>
        <field name="model">accounting.report</field>
        <field name="inherit_id" ref="accounting_pdf_reports.accounting_report_view"/>
        <field name="arch" type="xml">
            <!-- Insert analytic filter fields after journal selection -->
            <xpath expr="//field[@name='journal_ids']" position="after">
                <group string="Warehouse / Analytic Account " col="1">
                    <field name="analytic_account_ids"
                           widget="many2many_tags"
                           options="{'no_create': True, 'no_open': True}"
                           placeholder="Select warehouses (leave empty for all combined)"/>

                    <!-- Show helpful information -->
                    <field name="warehouse_selection_info" nolabel="1" widget="html"/>


                    <!-- Show combined column option only when multiple warehouses selected -->
                    <field name="include_combined"
                           invisible="not show_warehouse_breakdown"
                           string="Show Breakdown by Warehouse"/>
                </group>
            </xpath>
            <xpath expr="//footer/button[@name='check_report']" position="after">
                <button name="action_view_details"
                        string="View Details"
                        type="object"
                        class="btn-primary"/>
            </xpath>
        </field>
    </record>
</odoo>

