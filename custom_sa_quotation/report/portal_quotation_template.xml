<?xml version="1.0" encoding="utf-8"?>
<!--<?xml version="1.0" encoding="utf-8"?>-->
<!--<odoo>-->
<!--    &lt;!&ndash; Override portal to show ONLY custom report &ndash;&gt;-->
<!--    <template id="custom_portal_sale_order" inherit_id="sale.sale_order_portal_content" priority="100">-->
<!--        -->
<!--        &lt;!&ndash; Hide the introduction section &ndash;&gt;-->
<!--        <xpath expr="//div[@id='introduction']" position="attributes">-->
<!--            <attribute name="style">display: none !important;</attribute>-->
<!--        </xpath>-->
<!--        -->
<!--        &lt;!&ndash; Hide the informations section &ndash;&gt;-->
<!--        <xpath expr="//div[@id='informations']" position="attributes">-->
<!--            <attribute name="style">display: none !important;</attribute>-->
<!--        </xpath>-->
<!--        -->
<!--        &lt;!&ndash; Hide the default table &ndash;&gt;-->
<!--        <xpath expr="//div[@name='sol_table']" position="attributes">-->
<!--            <attribute name="style">display: none !important;</attribute>-->
<!--        </xpath>-->
<!--        -->
<!--        &lt;!&ndash; Hide the totals &ndash;&gt;-->
<!--        <xpath expr="//div[@id='total']" position="attributes">-->
<!--            <attribute name="style">display: none !important;</attribute>-->
<!--        </xpath>-->
<!--        -->
<!--        &lt;!&ndash; Hide signature section if exists &ndash;&gt;-->
<!--        <xpath expr="//section[@id='signature']" position="attributes">-->
<!--            <attribute name="style">display: none !important;</attribute>-->
<!--        </xpath>-->
<!--        -->
<!--        &lt;!&ndash; Hide terms section &ndash;&gt;-->
<!--        <xpath expr="//section[@id='terms']" position="attributes">-->
<!--            <attribute name="style">display: none !important;</attribute>-->
<!--        </xpath>-->
<!--        -->
<!--        &lt;!&ndash; Add our custom report at the beginning of content &ndash;&gt;-->
<!--        <xpath expr="//div[@id='content']" position="before">-->
<!--            <div class="custom-quotation-wrapper">-->
<!--                <t t-set="o" t-value="sale_order"/>-->
<!--                <t t-set="docs" t-value="[sale_order]"/>-->
<!--                <t t-call="custom_sa_quotation.custom_saleorder_report"/>-->
<!--            </div>-->
<!--        </xpath>-->
<!--        -->
<!--    </template>-->
<!--</odoo>-->


<odoo>

    <!-- ==================================================
         Sale Order Portal Preview Override
         ================================================== -->

    <template id="custom_portal_sale_order"
              inherit_id="sale.sale_order_portal_content"
              priority="100">

        <!-- Hide default portal blocks -->
        <xpath expr="//div[@id='introduction']" position="attributes">
            <attribute name="style">display:none !important;</attribute>
        </xpath>

        <xpath expr="//div[@id='informations']" position="attributes">
            <attribute name="style">display:none !important;</attribute>
        </xpath>

        <xpath expr="//div[@name='sol_table']" position="attributes">
            <attribute name="style">display:none !important;</attribute>
        </xpath>

        <xpath expr="//div[@id='total']" position="attributes">
            <attribute name="style">display:none !important;</attribute>
        </xpath>

        <xpath expr="//section[@id='signature']" position="attributes">
            <attribute name="style">display:none !important;</attribute>
        </xpath>

        <xpath expr="//section[@id='terms']" position="attributes">
            <attribute name="style">display:none !important;</attribute>
        </xpath>

        <!-- Insert custom quotation -->
        <xpath expr="//div[@id='content']" position="before">
            <div class="custom-quotation-wrapper">
                <t t-set="o" t-value="sale_order"/>
                <t t-set="docs" t-value="[sale_order]"/>

                <!-- Call custom report -->
                <t t-call="custom_sa_quotation.custom_saleorder_report"/>
            </div>
        </xpath>

    </template>

</odoo>
