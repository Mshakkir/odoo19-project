<odoo>
    <template id="custom_saleorder_report" inherit_id="sale.report_saleorder_document">
        <xpath expr="//t[@t-call='web.external_layout']" position="replace">
            <t t-call="web.html_container">
                <t t-foreach="docs" t-as="o">
                    <div class="page">
                        <div class="header"
                             style="border:2px solid white; border-radius: 6px; background: white; margin-bottom: 15px;">

                            <!-- Company Names in One Row -->
                            <table style="width: 100%; border-collapse: collapse;">
                                <tr>
                                    <td style="width: 50%; padding: 10px 20px; text-align: left; vertical-align: middle; border-bottom: 0px solid white;border-top: 0px solid white;border-right: 0px solid white;border-left: 0px solid white;">
                                        <div style="color: #8B1538; font-size: 16px; font-weight: bold; text-transform: uppercase;">
                                            SAMEER SHARAF AL OTAIBI TRADING COMPANY
                                        </div>
                                    </td>
                                    <td style="width: 50%; padding: 10px 20px; text-align: right; vertical-align: middle; border-bottom: 0px solid white;border-top: 0px solid white;border-right: 0px solid white;border-left: 0px solid white;">
                                        <div style="color: #8B1538; font-size: 16px; font-weight: 900; direction: rtl; font-family: 'Tajawal', sans-serif;"
                                             class="arabic-word">
                                            شركة سمير شرف العتيبي التجارية
                                        </div>
                                    </td>
                                </tr>
                            </table>

                            <!-- Details and Logo Row -->
                            <table style="width: 100%; border-collapse: collapse;">
                                <tr>
                                    <!-- Left Column: English Info -->
                                    <td style="width: 33%; text-align: left; font-size: 16px; color: #333; vertical-align: middle;
                   padding: 6px 10px; border-top: 1px solid white;border-right: 0px solid white; border-bottom: 2px solid #8B1538;border-left: 1px solid  white;">
                                        <div style="line-height: 1.3; font-weight: 500;">
                                            C.R. 4030216154
                                            <br/>
                                            VAT Regd: 311299944700003
                                        </div>
                                    </td>

                                    <!-- Center Column: Company Logo -->
                                    <td style="width: 34%; text-align: center; vertical-align: middle;
                   padding: 6px 10px; border-top: 1px solid white;border-right: 0px solid white; border-bottom: 2px solid #8B1538;border-left: 1px solid  white;">
                                        <t t-if="o.company_id.logo">
                                            <img t-att-src="image_data_uri(o.company_id.logo)"
                                                 style="max-height: 110px; max-width: 100%; object-fit: contain;"/>
                                        </t>
                                    </td>

                                    <!-- Right Column: Arabic Info -->
                                    <td style="width: 33%; text-align: right; font-size: 14px; color: #333; vertical-align: middle;
                   direction: rtl; padding: 6px 10px; border-top: 1px solid white;border-right: 0px solid white; border-bottom: 2px solid #8B1538;border-left: 1px solid  white;">
                                        <div style="line-height: 1.3; font-family: 'Tajawal', sans-serif; font-weight:900; direction: rtl;">
                                            ٤٠٣٠٢١٦١٥٤ :س.ت
                                            <br/>
                                            ٣١١٢٩٩٩٤٤٧٠٠٠٠٣ :الرقم الضريبي
                                        </div>
                                    </td>
                                </tr>
                            </table>


                        </div>
                    </div>
                </t>

                <div class="footer" style="padding:10px; font-size:13px; background:#fff;">

                    <!-- ====== 3 COLUMN ADDRESS SECTION ====== -->
                    <!-- ===== Branch Details ===== -->
                    <table width="100%" style="border-collapse: collapse; margin-bottom:5px; font-size:10px;">
                        <tr>
                            <td style="width:33%; padding:4px;">
                                <strong>Dammam</strong>
                                Sameer Sharaf Al Otaibi Trading Company
                                8515, Qutaibah bin Muslim ST,
                                Al Souq, Dammam 4525-32242
                                Saudi Arabia
                                <br/>
                                Tel/Mobile: 0535081008
                                <br/>
                                Email: ssaoe.dammam@gmail.com
                            </td>

                            <td style="width:33%; padding:4px;">
                                <strong>Main</strong>
                                Sameer Sharaf Al Otaibi Trading Company
                                شركة سمير شرف العتيبي التجارية
                                Jeddah, 7655 Al Fayha
                                Al Fayha Dist. JEDDAH 22244-3108
                                Saudi Arabia
                                <br/>
                                Tel:
                                <br/>
                                Email:
                            </td>

                            <td style="width:33%; padding:4px;">
                                <strong>Baladiya</strong>
                                Sameer Sharaf Al Otaibi Trading Company
                                شركة سمير شرف العتيبي التجارية
                                Sookul Anwar, Al Baladeah, Aziziyah,
                                Jeddah 31303
                                Tel: 0535081008
                                <br/>
                                Email: ssaoe.dammam@gmail.com
                            </td>
                        </tr>
                    </table>

                    <!-- ===== Bank Details ===== -->
                    <table width="100%" style="border-collapse: collapse; margin-bottom:5px; font-size:10px;">
                        <tr>
                            <td style="padding:2px; text-align:left;">
                                <b>Bank Details:</b>
                                <br/>
                                Alrajhi Bank – Sameer Sharaf Al-Otibi Trading Co.
                                <br/>
                                Account Number: 123000010006080143917
                                <br/>
                                IBAN: SA7880000123608010143917
                            </td>

                            <td style="padding:2px; text-align:right;">
                                <b>تفاصيل البنك:</b>
                                <br/>
                                بنك الراجحي – شركة سمير شرف العتيبي للتجارة
                                <br/>
                                رقم الحساب: 123000010006080143917
                                <br/>
                                الآيبان: SA7880000123608010143917
                            </td>

                        </tr>
                        <tr>
                            <!-- English Column -->
                            <td style="padding:2px; text-align:left;">
                                <b>Bank Details:</b>
                                <br/>
                                SNB - Saudi National Bank
                                <br/>
                                Sameer Sharaf Al-Otib Trading Company
                                <br/>
                                Account Number at SNB: 13200000678707
                                <br/>
                                International Account Number (IBAN): SA2110000013200000678707
                            </td>


                            <!-- Arabic Column -->
                            <td style="padding:2px; text-align:right;">
                                <b>تفاصيل البنك:</b>
                                <br/>
                                البنك الأهلي السعودي - SNB
                                <br/>
                                شركة سمير شرف العتيبي التجارية
                                <br/>
                                رقم الحساب: 13200000678707
                                <br/>
                                رقم الحساب الدولي (IBAN): SA2110000013200000678707
                            </td>


                        </tr>

                    </table>

                    <!-- ===== Footer Logos ===== -->
                    <div style="text-align:center; margin-top:8px;">
                        <img t-att-src="request.httprequest.host_url + 'custom_sa_quotation/static/src/img/footer_companies_names.jpg'"
                             style="max-width:100%; height:auto;"/>
                    </div>
                </div>
            </t>
            <t t-foreach="docs" t-as="o">
                <t t-call="web.external_layout">

                    <!-- ===== Dynamic Title Section ===== -->
                    <div style="padding-top:15px;">
                        <div style=" background-color:#d3d3d3; color:black; padding:8px ; text-align:center; margin-bottom:10px ; font-weight:bold; font-size:16px;">
                            <!-- Dynamic title based on state -->
                            <t t-if="o.state in ('draft', 'sent')">
                                Quotation /
                                <span style="font-family: 'Tajawal', sans-serif; font-weight:900; direction: rtl;">
                                    عرض سعر
                                </span>
                            </t>
                            <t t-if="o.state in ('sale', 'done')">
                                Sales Order /
                                <span style="font-family: 'Tajawal', sans-serif; font-weight:900; direction: rtl;">
                                    طلب مبيعات
                                </span>
                            </t>
                        </div>
                    </div>

                    <!-- ===== Customer & Quote Info ===== -->
                    <table width="100%"
                           style="border: 1px solid #000; border-collapse: collapse; font-size: 13px; margin-bottom:5px; margin-top: 5px; height:30px;">
                        <tr>
                            <td width="50%"
                                style="border-right: 1px solid #000; vertical-align: top; padding: 10px;">
                                <div style="font-weight: bold; padding: 5px; margin-bottom: 5px;  color:#080808;">
                                    Customer Name &amp; Address /
                                    <span style="font-family: 'Tajawal', sans-serif; font-weight:900; direction: rtl;">
                                        اسم العميل وعنوانه
                                    </span>
                                </div>
                                <div>
                                    Attn:
                                    <span t-esc="o.partner_id.name"/>
                                    <br/>
                                    <span t-esc="o.partner_id.city"/>
                                    <br/>
                                    MOB:
                                    <span t-esc="o.partner_id.phone or ''"/>
                                </div>
                            </td>
                            <td width="50%" style="vertical-align: top; padding: 10px;">
                                <div style="font-weight: bold; padding: 5px; margin-bottom: 5px;  color:#080808;">
                                    <!-- Dynamic header label -->
                                    <t t-if="o.state in ('draft', 'sent')">
                                        Quote / Project Description /
                                        <span style="font-family: 'Tajawal', sans-serif; font-weight:900; direction: rtl;">
                                            عرض سعر
                                        </span>
                                    </t>
                                    <t t-if="o.state in ('sale', 'done')">
                                        Order Description /
                                        <span style="font-family: 'Tajawal', sans-serif; font-weight:900; direction: rtl;">
                                            وصف الطلب
                                        </span>
                                    </t>
                                </div>
                                <div>
                                    Date:
                                    <span t-field="o.date_order"/>
                                    <br/>
                                    Our Reference:
                                    <span t-esc="o.name"/>
                                    <br/>
                                    Your Reference:
                                    <span t-esc="o.client_order_ref or '-'"/>
                                </div>
                            </td>
                        </tr>
                    </table>

                    <!-- ===== Order Lines Table ===== -->
                    <table width="100%" border="1"
                           style="border-collapse: collapse; font-size: 13px;margin-top:10px;"
                           cellpadding="5">
                        <thead style="background-color: #9e9d9d;">
                            <tr>
                                <th style="width:2%;text-align:center; color:#080808;">SN</th>
                                <th style="width:15%;text-align:center; color:#080808;">Item Description
                                    <br/>
                                    <span style="font-family: 'Tajawal', sans-serif; font-weight:900; direction: rtl;">
                                        المنتج الوصف
                                    </span>
                                </th>
                                <th style="width:3%;text-align:center; color:#080808;">Duration
                                    <br/>
                                    <span style="font-family: 'Tajawal', sans-serif; font-weight:900; direction: rtl;">
                                        مدة
                                    </span>
                                </th>
                                <th style="width:3%;text-align:center; color:#080808;">QTY
                                    <br/>
                                    <span style="font-family: 'Tajawal', sans-serif; font-weight:900; direction: rtl;">
                                        الكمية
                                    </span>
                                </th>
                                <th style="width:3%;text-align:center; color:#080808;">U/M
                                    <br/>
                                    <span style="font-family: 'Tajawal', sans-serif; font-weight:900; direction: rtl;">
                                        وحدة
                                    </span>
                                </th>
                                <th style="width:3%;text-align:center; color:#080808;">Unit Price
                                    <br/>
                                    <span style="font-family: 'Tajawal', sans-serif; font-weight:900; direction: rtl;">
                                        سعر الوحدة
                                    </span>
                                </th>
                                <th style="width:3%;text-align:center; color:#080808;">Line Total
                                    <br/>
                                    <span style="font-family: 'Tajawal', sans-serif; font-weight:900; direction: rtl;">
                                        مجموع الخط
                                    </span>
                                </th>
                            </tr>
                        </thead>
                        <tbody style="text-align:center;">
                            <tr t-foreach="o.order_line" t-as="line">
                                <td>
                                    <t t-esc="line_index + 1"/>
                                </td>
                                <td>
                                    <span t-field="line.name"/>
                                </td>
                                <td>2-3 Weeks</td>
                                <td class="text-right">
                                    <span t-field="line.product_uom_qty"/>
                                </td>
                                <td>
                                    <span t-field="line.product_uom_id"/>
                                </td>
                                <td class="text-right">
                                    <span t-field="line.price_unit"/>
                                </td>
                                <td class="text-right">
                                    <span t-field="line.price_subtotal"/>
                                </td>
                            </tr>
                        </tbody>
                    </table>

                    <!-- ===== Totals and Notes Section ===== -->
                    <table width="100%" style="font-size: 13px; margin-top: 10px;">
                        <tr>
                            <!-- Left: Notes -->
                            <td style="width: 60%;padding-left:3px; ">
                                <t t-if="o.payment_term_id">
                                    <p>
                                        <strong>Payment Terms:</strong>
                                        <span t-esc="o.payment_term_id.name"/>
                                    </p>
                                </t>
                                <t t-if="o.note">
                                    <div class="mt-4"
                                         style="font-size: 13px; margin-top: 10px; padding-left:3px;">
                                        <p>
                                            <strong>Offer Terms and Conditions:</strong>
                                        </p>
                                        <p t-field="o.note"/>
                                    </div>
                                </t>
                            </td>
                            <!-- Right: Totals -->
                            <td style="width: 40%; border:white;">
                                <table style="width:100%; border:1px solid #000; border-collapse:collapse;">
                                    <tr style="padding:4px;">
                                        <td style="padding-left:5px;">Subtotal</td>
                                        <td style="text-align:right;">
                                            <span t-field="o.amount_untaxed"/>
                                            SAR
                                        </td>
                                    </tr>
                                    <tr style="padding:4px;">
                                        <td style="padding-left:5px;">Discount</td>
                                        <td style="text-align:right;">
                                            <t t-esc="o.discount_amount or 0.0"/>
                                            SAR
                                        </td>
                                    </tr>
                                    <tr style="padding:4px;">
                                        <td style="padding-left:5px;">Freight</td>
                                        <td style="text-align:right;">
                                            <t t-esc="o.freight_amount or 0.0"/>
                                            SAR
                                        </td>
                                    </tr>
                                    <tr style="padding:4px;">
                                        <td>
                                            <strong style="padding-left:5px;">Gross Total</strong>
                                        </td>
                                        <td style="text-align:right;">
                                            <t t-set="gross_total"
                                               t-value="o.amount_untaxed - (o.discount_amount or 0.0) + (o.freight_amount or 0.0)"/>
                                            <t t-esc="gross_total"/>
                                            SAR
                                        </td>
                                    </tr>
                                    <tr style="padding:4px;">
                                        <td style="padding-left:5px;">VAT (15%)</td>
                                        <td style="text-align:right;">
                                            <t t-set="vat_amount" t-value="gross_total * 0.15"/>
                                            <t t-esc="vat_amount"/>
                                            SAR
                                        </td>
                                    </tr>
                                    <tr style="background-color:#D3D3D3;padding:6px;">
                                        <td>
                                            <strong style="padding-left:5px;">Net Total</strong>
                                        </td>
                                        <td style="text-align:right;">
                                            <strong>
                                                <t t-esc="gross_total + vat_amount"/>
                                                SAR
                                            </strong>
                                        </td>
                                    </tr>
                                </table>
                            </td>
                        </tr>
                    </table>


                </t>
            </t>
        </xpath>

    </template>
</odoo>



