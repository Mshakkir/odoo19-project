<odoo>
    <template id="report_custom_balance_sheet_pdf">
        <t t-call="web.html_container">
            <t t-call="web.external_layout">
                <div class="page">
                    <h2 class="text-center">Balance Sheet</h2>
                    <p>
                        <strong>Company:</strong>
                        <t t-esc="res_company.name"/>
                    </p>
                    <p>
                        <strong>Period:</strong>
                        <t t-esc="data.get('form', {}).get('date_from')"/>
                        to
                        <t t-esc="data.get('form', {}).get('date_to')"/>
                    </p>


                    <t t-set="lines" t-value="docs"/>

                    <t t-foreach="['asset', 'liability', 'equity']" t-as="type">
                        <t t-set="type_lines" t-value="lines.filtered(lambda l: l.account_type == type)"/>
                        <t t-if="type_lines">
                            <h3 style="margin-top:20px;">
                                <t t-esc="type.capitalize()"/>
                            </h3>
                            <table class="table table-sm table-bordered">
                                <thead>
                                    <tr>
                                        <th>Account</th>
                                        <th class="text-end">Debit</th>
                                        <th class="text-end">Credit</th>
                                        <th class="text-end">Balance</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <t t-foreach="type_lines" t-as="line">
                                        <tr t-attf-style="font-weight: #{'bold' if line.is_total else 'normal'};">
                                            <td>
                                                <t t-esc="line.name"/>
                                            </td>
                                            <td class="text-end">
                                                <t t-esc="'%.2f' % line.debit"/>
                                            </td>
                                            <td class="text-end">
                                                <t t-esc="'%.2f' % line.credit"/>
                                            </td>
                                            <td class="text-end">
                                                <t t-esc="'%.2f' % line.balance"/>
                                            </td>
                                        </tr>
                                    </t>
                                </tbody>
                            </table>
                        </t>
                    </t>
                </div>
            </t>
        </t>
    </template>
</odoo>
