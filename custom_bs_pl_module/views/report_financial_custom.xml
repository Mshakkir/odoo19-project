<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="report_financial_balance_rename"
              inherit_id="accounting_pdf_reports.report_financial"
              name="Rename Balance Column to Amount">

        <!-- ✅ Simplified & Compatible XPath -->
        <!-- Replace all 'Balance' column headers with 'Amount' -->
        <xpath expr="//th[contains(normalize-space(.), 'Balance')]" position="replace">
            <th class="text-end">Amount</th>
        </xpath>

        <!-- ✅ Warehouse Analytic Breakdown Section -->
        <xpath expr="//table[last()]" position="after">
            <t t-if="data.get('all_warehouse_data')">
                <h4 style="margin-top: 20px;">Warehouse Analytic Summary</h4>
                <table class="table table-sm table-bordered">
                    <thead>
                        <tr>
                            <th>Warehouse / Analytic</th>
                            <th class="text-end">Debit</th>
                            <th class="text-end">Credit</th>
                            <th class="text-end">Balance</th>
                        </tr>
                    </thead>
                    <tbody>
                        <t t-foreach="data['all_warehouse_data']" t-as="wh">
                            <tr>
                                <td><t t-esc="wh['warehouse_name']"/></td>
                                <td class="text-end"><t t-esc="wh['debit']"/></td>
                                <td class="text-end"><t t-esc="wh['credit']"/></td>
                                <td class="text-end"><t t-esc="wh['balance']"/></td>
                            </tr>
                        </t>
                        <tr class="fw-bold">
                            <td>Total</td>
                            <td class="text-end"><t t-esc="data['combined_totals']['debit']"/></td>
                            <td class="text-end"><t t-esc="data['combined_totals']['credit']"/></td>
                            <td class="text-end"><t t-esc="data['combined_totals']['balance']"/></td>
                        </tr>
                    </tbody>
                </table>
            </t>
        </xpath>

    </template>
</odoo>









<!--<?xml version="1.0" encoding="utf-8"?>-->
<!--<odoo>-->
<!--    <template id="report_financial_balance_rename"-->
<!--              inherit_id="accounting_pdf_reports.report_financial"-->
<!--              name="Rename Balance Column to Amount">-->

<!--        &lt;!&ndash; Rename "Balance" column in table with debit/credit &ndash;&gt;-->
<!--        <xpath expr="//table[@class='table table-sm table-reports'][@t-if=&quot;data['debit_credit'] == 1&quot;]//th[contains(text(), 'Balance')]"-->
<!--               position="replace">-->
<!--            <th class="text-end">Amount</th>-->
<!--        </xpath>-->

<!--        &lt;!&ndash; Rename "Balance" column in table without debit/credit &ndash;&gt;-->
<!--        <xpath expr="//table[@class='table table-sm table-reports'][@t-if=&quot;not data['enable_filter'] and not data['debit_credit']&quot;]//th[contains(text(), 'Balance')]"-->
<!--               position="replace">-->
<!--            <th class="text-end">Amount</th>-->
<!--        </xpath>-->

<!--        &lt;!&ndash; Rename "Balance" column in comparison table &ndash;&gt;-->
<!--        <xpath expr="//table[@class='table table-sm table-reports'][@t-if=&quot;data['enable_filter'] == 1 and not data['debit_credit']&quot;]//th[contains(text(), 'Balance')]"-->
<!--               position="replace">-->
<!--            <th class="text-end">Amount</th>-->
<!--        </xpath>-->
<!--        &lt;!&ndash; ✅ Show Warehouse Breakdown &ndash;&gt;-->
<!--        <xpath expr="//table[last()]" position="after">-->
<!--            <t t-if="data.get('all_warehouse_data')">-->
<!--                <h4>Warehouse Analytic Summary</h4>-->
<!--                <table class="table table-sm table-bordered">-->
<!--                    <thead>-->
<!--                        <tr>-->
<!--                            <th>Warehouse / Analytic</th>-->
<!--                            <th class="text-end">Debit</th>-->
<!--                            <th class="text-end">Credit</th>-->
<!--                            <th class="text-end">Balance</th>-->
<!--                        </tr>-->
<!--                    </thead>-->
<!--                    <tbody>-->
<!--                        <t t-foreach="data['all_warehouse_data']" t-as="wh">-->
<!--                            <tr>-->
<!--                                <td>-->
<!--                                    <t t-esc="wh['warehouse_name']"/>-->
<!--                                </td>-->
<!--                                <td class="text-end">-->
<!--                                    <t t-esc="wh['debit']"/>-->
<!--                                </td>-->
<!--                                <td class="text-end">-->
<!--                                    <t t-esc="wh['credit']"/>-->
<!--                                </td>-->
<!--                                <td class="text-end">-->
<!--                                    <t t-esc="wh['balance']"/>-->
<!--                                </td>-->
<!--                            </tr>-->
<!--                        </t>-->
<!--                        <tr class="fw-bold">-->
<!--                            <td>Total</td>-->
<!--                            <td class="text-end">-->
<!--                                <t t-esc="data['combined_totals']['debit']"/>-->
<!--                            </td>-->
<!--                            <td class="text-end">-->
<!--                                <t t-esc="data['combined_totals']['credit']"/>-->
<!--                            </td>-->
<!--                            <td class="text-end">-->
<!--                                <t t-esc="data['combined_totals']['balance']"/>-->
<!--                            </td>-->
<!--                        </tr>-->
<!--                    </tbody>-->
<!--                </table>-->
<!--            </t>-->
<!--        </xpath>-->


<!--    </template>-->
<!--</odoo>-->

