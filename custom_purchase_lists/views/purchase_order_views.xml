<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>

        <!-- ========================================================================= -->
        <!-- RFQ/QUOTATION LIST VIEW - Alternative Approach                          -->
        <!-- Uses position="attributes" and position="inside" instead of replace     -->
        <!-- ========================================================================= -->

        <record id="purchase_order_tree_inherit_custom_rfq" model="ir.ui.view">
            <field name="name">purchase.order.tree.inherit.custom.rfq</field>
            <field name="model">purchase.order</field>
            <field name="inherit_id" ref="purchase.purchase_order_tree"/>
            <field name="priority">100</field>
            <field name="arch" type="xml">

                <!-- Add AWB field after partner_ref if it exists -->
                <xpath expr="//field[@name='partner_ref']" position="after">
                    <field name="awb_number"
                           string="Shipping Ref #"
                           optional="show"
                           width="110px"/>
                </xpath>

                <!-- Add Tax Amount field before amount_total -->
                <xpath expr="//field[@name='amount_total']" position="before">
                    <field name="amount_tax"
                           string="Tax Amount"
                           widget="monetary"
                           sum="Total Tax"
                           optional="show"
                           width="100px"/>
                </xpath>

            </field>
        </record>


        <!-- ========================================================================= -->
        <!-- CONFIRMED PURCHASE ORDERS LIST VIEW - Alternative Approach              -->
        <!-- ========================================================================= -->

        <record id="purchase_order_view_tree_inherit_custom_confirmed" model="ir.ui.view">
            <field name="name">purchase.order.view.tree.inherit.custom.confirmed</field>
            <field name="model">purchase.order</field>
            <field name="inherit_id" ref="purchase.purchase_order_view_tree"/>
            <field name="priority">100</field>
            <field name="arch" type="xml">

                <!-- Add AWB field after partner_ref if it exists -->
                <xpath expr="//field[@name='partner_ref']" position="after">
                    <field name="awb_number"
                           string="Shipping Ref #"
                           optional="show"
                           readonly="state in ('cancel', 'purchase')"
                           width="110px"/>
                </xpath>

                <!-- Add Tax Amount field before amount_total -->
                <xpath expr="//field[@name='amount_total']" position="before">
                    <field name="amount_tax"
                           string="Tax Amount"
                           widget="monetary"
                           sum="Total Tax"
                           optional="show"
                           width="100px"/>
                </xpath>

            </field>
        </record>

    </data>
</odoo>







<!--<?xml version="1.0" encoding="utf-8"?>-->
<!--<odoo>-->
<!--    <data>-->

<!--        &lt;!&ndash; ========================================================================= &ndash;&gt;-->
<!--        &lt;!&ndash; RFQ/QUOTATION LIST VIEW (Draft/Sent Orders)                              &ndash;&gt;-->
<!--        &lt;!&ndash; View ID: purchase.purchase_order_tree                                    &ndash;&gt;-->
<!--        &lt;!&ndash; ========================================================================= &ndash;&gt;-->
<!--        -->
<!--        <record id="purchase_order_tree_inherit_custom_rfq" model="ir.ui.view">-->
<!--            <field name="name">purchase.order.tree.inherit.custom.rfq</field>-->
<!--            <field name="model">purchase.order</field>-->
<!--            <field name="inherit_id" ref="purchase.purchase_order_tree"/>-->
<!--            <field name="priority">100</field>-->
<!--            <field name="arch" type="xml">-->

<!--                &lt;!&ndash; Replace the list element (Odoo 19 uses <list> not <tree>) &ndash;&gt;-->
<!--                <xpath expr="//list" position="replace">-->
<!--                    <list string="Requests for Quotation"-->
<!--                          multi_edit="1"-->
<!--                          sample="1"-->
<!--                          decoration-info="state in ('draft', 'sent')"-->
<!--                          decoration-warning="state == 'to approve'"-->
<!--                          decoration-success="state == 'purchase'"-->
<!--                          default_order="date_order desc">-->

<!--                        &lt;!&ndash; Order Date (most relevant for RFQs) &ndash;&gt;-->
<!--                        <field name="date_order"-->
<!--                               string="Order Date"-->
<!--                               optional="show"-->
<!--                               width="130px"/>-->

<!--                        &lt;!&ndash; Reference (PO Number) &ndash;&gt;-->
<!--                        <field name="name"-->
<!--                               string="Reference"-->
<!--                               readonly="1"-->
<!--                               width="130px"/>-->

<!--                        &lt;!&ndash; Vendor &ndash;&gt;-->
<!--                        <field name="partner_id"-->
<!--                               string="Vendor"-->
<!--                               width="150px"/>-->

<!--                        &lt;!&ndash; Vendor Reference &ndash;&gt;-->
<!--                        <field name="partner_ref"-->
<!--                               string="Vendor Reference"-->
<!--                               optional="show"-->
<!--                               width="120px"/>-->

<!--                        &lt;!&ndash; Warehouse &ndash;&gt;-->
<!--                        <field name="picking_type_id"-->
<!--                               string="Warehouse"-->
<!--                               optional="show"-->
<!--                               width="130px"/>-->

<!--                        &lt;!&ndash; AWB Number (Shipping Reference) &ndash;&gt;-->
<!--                        <field name="awb_number"-->
<!--                               string="Shipping Ref #"-->
<!--                               optional="show"-->
<!--                               width="110px"/>-->

<!--                        &lt;!&ndash; Untaxed Amount &ndash;&gt;-->
<!--                        <field name="amount_untaxed"-->
<!--                               string="Untaxed Amount"-->
<!--                               widget="monetary"-->
<!--                               sum="Total Untaxed"-->
<!--                               optional="show"-->
<!--                               width="120px"/>-->

<!--                        &lt;!&ndash; Tax Amount (Computed) &ndash;&gt;-->
<!--                        <field name="amount_tax"-->
<!--                               string="Tax Amount"-->
<!--                               widget="monetary"-->
<!--                               sum="Total Tax"-->
<!--                               optional="show"-->
<!--                               width="100px"/>-->

<!--                        &lt;!&ndash; Total Amount &ndash;&gt;-->
<!--                        <field name="amount_total"-->
<!--                               string="Total Amount"-->
<!--                               widget="monetary"-->
<!--                               sum="Total"-->
<!--                               optional="show"-->
<!--                               width="120px"/>-->

<!--                        &lt;!&ndash; Buyer (Purchase Representative) &ndash;&gt;-->
<!--                        <field name="user_id"-->
<!--                               string="Buyer"-->
<!--                               widget="many2one_avatar_user"-->
<!--                               optional="show"-->
<!--                               width="130px"/>-->

<!--                        &lt;!&ndash; Status &ndash;&gt;-->
<!--                        <field name="state"-->
<!--                               string="Status"-->
<!--                               widget="badge"-->
<!--                               decoration-success="state == 'purchase'"-->
<!--                               decoration-warning="state == 'to approve'"-->
<!--                               decoration-info="state in ('draft', 'sent')"-->
<!--                               optional="show"-->
<!--                               width="90px"/>-->

<!--                        &lt;!&ndash; Billing Status &ndash;&gt;-->
<!--                        <field name="invoice_status"-->
<!--                               string="Billing Status"-->
<!--                               widget="badge"-->
<!--                               decoration-success="invoice_status == 'invoiced'"-->
<!--                               decoration-info="invoice_status == 'to invoice'"-->
<!--                               optional="show"-->
<!--                               width="110px"/>-->

<!--                        &lt;!&ndash; ===== Additional Fields (Hidden by Default) ===== &ndash;&gt;-->

<!--                        <field name="priority"-->
<!--                               optional="hide"-->
<!--                               widget="priority"-->
<!--                               nolabel="1"-->
<!--                               width="60px"/>-->

<!--                        <field name="date_approve"-->
<!--                               string="Confirmation Date"-->
<!--                               optional="hide"-->
<!--                               width="130px"/>-->

<!--                        <field name="date_planned"-->
<!--                               string="Expected Arrival"-->
<!--                               optional="hide"-->
<!--                               width="130px"/>-->

<!--                        <field name="company_id"-->
<!--                               readonly="1"-->
<!--                               options="{'no_create': True}"-->
<!--                               groups="base.group_multi_company"-->
<!--                               optional="hide"-->
<!--                               width="120px"/>-->

<!--                        <field name="activity_ids"-->
<!--                               string="Next Activity"-->
<!--                               widget="list_activity"-->
<!--                               optional="hide"-->
<!--                               width="100px"/>-->

<!--                        <field name="origin"-->
<!--                               string="Source Document"-->
<!--                               optional="hide"-->
<!--                               width="130px"/>-->

<!--                        &lt;!&ndash; Required technical fields &ndash;&gt;-->
<!--                        <field name="currency_id"-->
<!--                               column_invisible="True"/>-->

<!--                        <field name="activity_exception_decoration"-->
<!--                               widget="activity_exception"/>-->

<!--                    </list>-->
<!--                </xpath>-->

<!--            </field>-->
<!--        </record>-->


<!--        &lt;!&ndash; ========================================================================= &ndash;&gt;-->
<!--        &lt;!&ndash; CONFIRMED PURCHASE ORDERS LIST VIEW                                      &ndash;&gt;-->
<!--        &lt;!&ndash; View ID: purchase.purchase_order_view_tree                               &ndash;&gt;-->
<!--        &lt;!&ndash; ========================================================================= &ndash;&gt;-->

<!--        <record id="purchase_order_view_tree_inherit_custom_confirmed" model="ir.ui.view">-->
<!--            <field name="name">purchase.order.view.tree.inherit.custom.confirmed</field>-->
<!--            <field name="model">purchase.order</field>-->
<!--            <field name="inherit_id" ref="purchase.purchase_order_view_tree"/>-->
<!--            <field name="priority">100</field>-->
<!--            <field name="arch" type="xml">-->

<!--                &lt;!&ndash; Replace the entire list structure for confirmed orders &ndash;&gt;-->
<!--                <xpath expr="//list" position="replace">-->
<!--                    <list string="Purchase Orders"-->
<!--                          sample="1"-->
<!--                          multi_edit="1"-->
<!--                          default_order="date_approve desc">-->

<!--                        &lt;!&ndash; Confirmation Date (most relevant for confirmed orders) &ndash;&gt;-->
<!--                        <field name="date_approve"-->
<!--                               string="Confirmation Date"-->
<!--                               optional="show"-->
<!--                               readonly="1"-->
<!--                               width="130px"/>-->

<!--                        &lt;!&ndash; Reference (PO Number) &ndash;&gt;-->
<!--                        <field name="name"-->
<!--                               string="Reference"-->
<!--                               readonly="1"-->
<!--                               width="130px"/>-->

<!--                        &lt;!&ndash; Vendor &ndash;&gt;-->
<!--                        <field name="partner_id"-->
<!--                               string="Vendor"-->
<!--                               readonly="state in ['cancel', 'purchase']"-->
<!--                               width="150px"/>-->

<!--                        &lt;!&ndash; Vendor Reference &ndash;&gt;-->
<!--                        <field name="partner_ref"-->
<!--                               string="Vendor Reference"-->
<!--                               optional="show"-->
<!--                               width="130px"/>-->

<!--                        &lt;!&ndash; Warehouse &ndash;&gt;-->
<!--                        <field name="picking_type_id"-->
<!--                               string="Warehouse"-->
<!--                               optional="show"-->
<!--                               width="135px"/>-->

<!--                        &lt;!&ndash; AWB Number (Shipping Reference) &ndash;&gt;-->
<!--                        <field name="awb_number"-->
<!--                               string="Shipping Ref #"-->
<!--                               optional="show"-->
<!--                               readonly="state in ('cancel', 'purchase')"-->
<!--                               width="110px"/>-->

<!--                        &lt;!&ndash; Untaxed Amount &ndash;&gt;-->
<!--                        <field name="amount_untaxed"-->
<!--                               string="Untaxed Amount"-->
<!--                               widget="monetary"-->
<!--                               sum="Total Untaxed"-->
<!--                               optional="show"-->
<!--                               width="120px"/>-->

<!--                        &lt;!&ndash; Tax Amount (Computed) &ndash;&gt;-->
<!--                        <field name="amount_tax"-->
<!--                               string="Tax Amount"-->
<!--                               widget="monetary"-->
<!--                               sum="Total Tax"-->
<!--                               optional="show"-->
<!--                               width="100px"/>-->

<!--                        &lt;!&ndash; Total Amount &ndash;&gt;-->
<!--                        <field name="amount_total"-->
<!--                               string="Total Amount"-->
<!--                               widget="monetary"-->
<!--                               sum="Total"-->
<!--                               optional="show"-->
<!--                               width="120px"/>-->

<!--                        &lt;!&ndash; Buyer (Purchase Representative) &ndash;&gt;-->
<!--                        <field name="user_id"-->
<!--                               string="Buyer"-->
<!--                               widget="many2one_avatar_user"-->
<!--                               optional="show"-->
<!--                               width="130px"/>-->

<!--                        &lt;!&ndash; State (Hidden - only used for decorations) &ndash;&gt;-->
<!--                        <field name="state"-->
<!--                               column_invisible="True"/>-->

<!--                        &lt;!&ndash; Billing Status &ndash;&gt;-->
<!--                        <field name="invoice_status"-->
<!--                               string="Billing Status"-->
<!--                               widget="badge"-->
<!--                               decoration-success="invoice_status == 'invoiced'"-->
<!--                               decoration-info="invoice_status == 'to invoice'"-->
<!--                               optional="show"-->
<!--                               width="110px"/>-->

<!--                        &lt;!&ndash; ===== Additional Fields (Hidden by Default) ===== &ndash;&gt;-->

<!--                        <field name="priority"-->
<!--                               widget="priority"-->
<!--                               optional="hide"-->
<!--                               width="60px"/>-->

<!--                        <field name="company_id"-->
<!--                               column_invisible="True"/>-->

<!--                        <field name="activity_ids"-->
<!--                               widget="list_activity"-->
<!--                               optional="hide"-->
<!--                               width="100px"/>-->

<!--                        <field name="origin"-->
<!--                               string="Source Document"-->
<!--                               optional="hide"-->
<!--                               width="130px"/>-->

<!--                        <field name="currency_id"-->
<!--                               column_invisible="True"/>-->

<!--                        <field name="date_planned"-->
<!--                               string="Expected Arrival"-->
<!--                               optional="hide"-->
<!--                               width="130px"/>-->

<!--                        <field name="date_order"-->
<!--                               string="Order Date"-->
<!--                               optional="hide"-->
<!--                               width="110px"/>-->

<!--                    </list>-->
<!--                </xpath>-->

<!--            </field>-->
<!--        </record>-->

<!--    </data>-->
<!--</odoo>-->