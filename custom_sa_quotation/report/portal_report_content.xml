<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Portal-specific report template (without PDF wrappers) -->
    <template id="portal_custom_saleorder_content">
        <t t-foreach="docs" t-as="o">
            <div class="page">
                <!-- HEADER SECTION -->
<!--                <div class="header" style="border:2px solid white; border-radius: 6px; background: white; margin-bottom: 15px;">-->

<!--                    &lt;!&ndash; Company Names &ndash;&gt;-->
<!--                    <table style="width: 100%; border-collapse: collapse;border:none">-->
<!--                        <tr>-->
<!--                            <td style="width: 50%; padding: 10px 20px; text-align: left; vertical-align: middle; border: 0; padding-left:0px;">-->
<!--                                <div style="color: #8B1538; font-size: 16px; font-weight: bold; text-transform: uppercase;">-->
<!--                                    SAMEER SHARAF AL OTAIBI TRADING COMPANY-->
<!--                                </div>-->
<!--                            </td>-->
<!--                            <td style="width: 50%; padding: 10px 20px; text-align: right; vertical-align: middle; border: 0; padding-right:0px;">-->
<!--                                <div style="color: #8B1538; font-size: 17px; font-weight: 900; direction: rtl; font-family: 'Tajawal', sans-serif;">-->
<!--                                    شركة سمير شرف العتيبي التجارية-->
<!--                                </div>-->
<!--                            </td>-->
<!--                        </tr>-->
<!--                    </table>-->

<!--                    &lt;!&ndash; Details and Logo Row &ndash;&gt;-->
<!--                    <table style="width: 100%; border-collapse: collapse;">-->
<!--                        <tr>-->
<!--                            <td style="width: 33%; text-align: left; font-size: 16px; color: #333; vertical-align: top;-->
<!--                                border-top: 1px solid white; border-right: 0; border-bottom: 2px solid #8B1538; border-left: 1px solid white; padding-top:0px; padding-left:0px;">-->
<!--                                <div style="line-height: 1.3; font-weight: 500; padding-left:0px; padding-top:0px; margin-top:0px;">-->
<!--                                    C.R. 4030216154<br/>-->
<!--                                    VAT Regd: 311299944700003-->
<!--                                </div>-->
<!--                            </td>-->

<!--                            <td style="width: 34%; text-align: center; vertical-align: top;-->
<!--                                padding: 5px 10px; border-top: 1px solid white; border-right: 0; border-bottom: 2px solid #8B1538; border-left: 1px solid white;">-->
<!--                                <t t-if="o.company_id.logo">-->
<!--                                    <img t-att-src="image_data_uri(o.company_id.logo)"-->
<!--                                         style="max-height: 140px; max-width: 100%; object-fit: contain; display: block; margin: -23px auto; padding-top:5px;"/>-->
<!--                                </t>-->
<!--                            </td>-->

<!--                            <td style="width: 33%; text-align: right; font-size: 15px; color: #333; vertical-align: top;-->
<!--                                direction: rtl; padding: 0px 10px 6px 10px; border-top: 1px solid white; border-right: 0; border-bottom: 2px solid #8B1538; border-left: 1px solid white;">-->
<!--                                <div style="line-height: 1.3; font-family: 'Tajawal', sans-serif; font-weight:900; padding-right:0px; margin-top:0px; text-align: right; direction: rtl;">-->
<!--                                    س.ت: ٤٠٣٠٢١٦١٥٤<br/>-->
<!--                                    الرقم الضريبي: ٣١١٢٩٩٩٤٤٧٠٠٠٠٣-->
<!--                                </div>-->
<!--                            </td>-->
<!--                        </tr>-->
<!--                    </table>-->
<!--                </div>-->

                <!-- TITLE SECTION -->
                <div style="padding-top:10px;">
                    <div style="background-color:#d3d3d3; color:black; padding:8px; text-align:center; margin-bottom:10px; font-weight:bold; font-size:16px;">
                        <t t-if="o.state in ('draft', 'sent')">
                            Quotation / <span style="font-family: 'Tajawal', sans-serif; font-weight:900; direction: rtl;">عرض سعر</span>
                        </t>
                        <t t-if="o.state in ('sale', 'done')">
                            Sales Order / <span style="font-family: 'Tajawal', sans-serif; font-weight:900; direction: rtl;">طلب مبيعات</span>
                        </t>
                    </div>
                </div>

                <!-- CUSTOMER & QUOTE INFO -->
                <table width="100%" style="border: 1px solid #000; border-collapse: collapse; font-size: 13px; margin-bottom:15px; margin-top: 5px;">
                    <tr>
                        <td width="33%" style="border-right: 1px solid #000; vertical-align: top; padding: 10px;">
                            <div style="font-weight: bold; padding: 5px; margin-bottom: 5px; color:#080808;">
                                Customer Name &amp; Address / <span style="font-family: 'Tajawal', sans-serif; font-weight:900; direction: rtl;">اسم العميل وعنوانه</span>
                            </div>
                            <div>
                                Attn: <span t-esc="o.partner_id.name"/><br/>
                                <span t-esc="o.partner_id.city"/><br/>
                                MOB: <span t-esc="o.partner_id.phone or ''"/>
                            </div>
                        </td>

                        <td width="33%" style="vertical-align: top; padding: 10px; border-right: 1px solid #000;">
                            <div style="font-weight: bold; padding: 5px; margin-bottom: 5px; color:#080808;">
                                <t t-if="o.state in ('draft', 'sent')">
                                    Quote / Project Description / <span style="font-family: 'Tajawal', sans-serif; font-weight:900; direction: rtl;">عرض سعر</span>
                                </t>
                                <t t-if="o.state in ('sale', 'done')">
                                    Order Description / <span style="font-family: 'Tajawal', sans-serif; font-weight:900; direction: rtl;">وصف الطلب</span>
                                </t>
                            </div>
                            <div>
                                Date: <span t-field="o.date_order"/><br/>
                                Our Reference: <span t-esc="o.name"/><br/>
                                Your Reference: <span t-esc="o.client_order_ref or '-'"/>
                            </div>
                        </td>

                        <t t-if="o.partner_shipping_id and o.partner_shipping_id.id != o.partner_id.id">
                            <td style="padding:6px 10px; vertical-align:top; width:33%;">
                                <strong>Shipping To : عنوان الشحن</strong><br/>
                                <strong><t t-esc="o.partner_shipping_id.name"/></strong><br/>
                                <t t-if="o.partner_shipping_id.street">
                                    <t t-esc="o.partner_shipping_id.street"/><br/>
                                </t>
                                <t t-if="o.partner_shipping_id.city">
                                    <t t-esc="o.partner_shipping_id.city"/>
                                </t>
                            </td>
                        </t>
                    </tr>
                </table>

                <!-- PRODUCTS TABLE -->
                <table width="100%" border="1" style="border-collapse: collapse; font-size: 11px; margin-top: 10px; border-color: #000;">
                    <thead style="background-color: #9e9d9d; padding:6px 10px;">
                        <tr>
                            <th style="text-align: center; padding: 6px 10px;">SN<br/><span style="font-family: 'Tajawal';">م</span></th>
                            <th style="text-align: center; padding: 6px 10px;">Item Description<br/><span style="font-family: 'Tajawal';">المنتج</span></th>
                            <th style="text-align: center; padding: 6px 10px;">Delivery Time<br/><span style="font-family: 'Tajawal';">مدة</span></th>
                            <th style="text-align: center; padding: 6px 10px;">QTY<br/><span style="font-family: 'Tajawal';">الكمية</span></th>
                            <th style="text-align: center; padding: 6px 10px;">U/M<br/><span style="font-family: 'Tajawal';">وحدة</span></th>
                            <th style="text-align: center; padding: 6px 10px;">Unit Price<br/><span style="font-family: 'Tajawal';">السعر</span></th>
                            <th style="text-align: center; padding: 6px 10px;">VAT %<br/><span style="font-family: 'Tajawal';">ضريبة</span></th>
                            <th style="text-align: center; padding: 6px 10px;">Line Total<br/><span style="font-family: 'Tajawal';">المجموع</span></th>
                        </tr>
                    </thead>
                    <tbody style="text-align: center;">
                        <tr t-foreach="o.order_line" t-as="line">
                            <td style="padding: 8px;"><t t-esc="line_index + 1"/></td>
                            <td style="padding: 8px; text-align:left;"><span t-field="line.name"/></td>
                            <td style="padding: 8px;"><t t-esc="o.delivery_period or '-'"/></td>
                            <td style="padding: 8px;"><span t-field="line.product_uom_qty"/></td>
                            <td style="padding: 8px;"><span t-esc="line.product_uom_id.name"/></td>
                            <td style="padding: 8px;"><span t-field="line.price_unit"/></td>
                            <td style="padding: 8px;"><t t-esc="line.tax_ids and line.tax_ids[0].amount or 0"/>%</td>
                            <td style="padding: 8px; text-align:right;"><span t-field="line.price_total"/></td>
                        </tr>
                    </tbody>
                </table>

                <!-- TOTALS -->
                <div style="width: 100%; text-align: left; margin-top: 10px;">
                    <table style="width:40%; margin-left:auto; border:1px solid #000; border-collapse:collapse; font-size:13px;">
                        <tr>
                            <td style="padding:5px;">Subtotal</td>
                            <td style="text-align:right; padding:5px;">
                                <t t-set="total_before_discount" t-value="sum(line.product_uom_qty * line.price_unit for line in o.order_line)"/>
                                <span t-esc="'%.2f' % total_before_discount"/> SAR
                            </td>
                        </tr>
                        <tr>
                            <td style="padding:5px;">Freight</td>
                            <td style="text-align:right; padding:5px;">- SAR</td>
                        </tr>
                        <tr>
                            <td style="padding:5px;"><strong>Gross Total</strong></td>
                            <td style="text-align:right; padding:5px;">
                                <strong><span t-field="o.amount_untaxed"/> SAR</strong>
                            </td>
                        </tr>
                        <tr>
                            <td style="padding:5px;">VAT (15%)</td>
                            <td style="text-align:right; padding:5px;"><span t-field="o.amount_tax"/> SAR</td>
                        </tr>
                        <tr style="background-color:#D3D3D3;">
                            <td style="padding:6px;"><strong>Net Total</strong></td>
                            <td style="text-align:right; padding:6px;">
                                <strong><span t-field="o.amount_total"/> SAR</strong>
                            </td>
                        </tr>
                    </table>
                </div>

                <!-- TERMS -->
                <div style="font-size: 13px; margin-top: 20px;">
                    <p><strong>Offer Terms and Conditions:</strong></p>
                    <t t-if="o.payment_term_id">
                        <p><strong>Payment Terms:</strong> <span t-esc="o.payment_term_id.name"/></p>
                    </t>
                    <t t-if="o.incoterm_location">
                        <p><strong>Incoterm Location:</strong> <span t-esc="o.incoterm_location"/></p>
                    </t>
                    <t t-if="o.incoterm">
                        <p><strong>Incoterm:</strong> <span t-esc="o.incoterm.name"/></p>
                    </t>
                    <p t-field="o.note"/>
                </div>
            </div>
        </t>
    </template>
</odoo>