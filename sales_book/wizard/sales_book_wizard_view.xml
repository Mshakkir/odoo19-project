<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <!-- Original Wizard Form -->
        <record id="view_sales_book_wizard_form" model="ir.ui.view">
            <field name="name">sales.book.wizard.form</field>
            <field name="model">sales.book.wizard</field>
            <field name="arch" type="xml">
                <form string="Sales Book Report">
                    <group>
                        <group>
                            <field name="view_type"/>
                            <field name="filter_type"/>
                        </group>
                        <group>
                            <field name="include_expense"/>
                        </group>
                    </group>
                    <group>
                        <group>
                            <label for="date_from" string="Date Range"/>
                            <div class="o_row">
                                <field name="date_from" class="oe_inline"/>
                                <span class="oe_inline"> to </span>
                                <field name="date_to" class="oe_inline"/>
                            </div>
                        </group>
                        <group>
                            <field name="partner_ids" widget="many2many_tags" placeholder="All Customers"/>
                            <field name="analytic_account_ids" widget="many2many_tags" placeholder="All Analytic Accounts"/>
                        </group>
                    </group>
                    <field name="report_type" invisible="1"/>
                    <footer>
                        <button string="Preview" name="action_preview" type="object" class="btn-primary"/>
                        <button string="Print PDF" name="action_print_report" type="object" class="btn-secondary"/>
                        <button string="Cancel" class="btn-secondary" special="cancel"/>
                    </footer>
                </form>
            </field>
        </record>

        <!-- Preview List for Short View -->
        <record id="view_sales_book_preview_list_short" model="ir.ui.view">
            <field name="name">sales.book.preview.line.list.short</field>
            <field name="model">sales.book.preview.line</field>
            <field name="arch" type="xml">
                <list string="Sales Book Preview" create="false" edit="false" delete="false">
                    <field name="date"/>
                    <field name="gross" sum="Total Gross"/>
                    <field name="trade_disc" sum="Total Trade Disc"/>
                    <field name="net_total" sum="Total Net"/>
                    <field name="add_disc" sum="Total Add. Disc"/>
                    <field name="add_cost" sum="Total Add. Cost"/>
                    <field name="round_off" sum="Total Round Off"/>
                    <field name="adj_amount" sum="Total Adj"/>
                    <field name="tax_amount" sum="Total Tax"/>
                    <field name="grand_total" sum="Grand Total"/>
                </list>
            </field>
        </record>

        <!-- Preview List for Short View - Combined Report -->
        <record id="view_sales_book_preview_list_short_combined" model="ir.ui.view">
            <field name="name">sales.book.preview.line.list.short.combined</field>
            <field name="model">sales.book.preview.line</field>
            <field name="arch" type="xml">
                <list string="Sales Book Preview - Combined" create="false" edit="false" delete="false">
                    <field name="date"/>
                    <field name="transaction_type"/>
                    <field name="gross" sum="Total Gross"/>
                    <field name="trade_disc" sum="Total Trade Disc"/>
                    <field name="net_total" sum="Total Net"/>
                    <field name="add_disc" sum="Total Add. Disc"/>
                    <field name="add_cost" sum="Total Add. Cost"/>
                    <field name="round_off" sum="Total Round Off"/>
                    <field name="adj_amount" sum="Total Adj"/>
                    <field name="tax_amount" sum="Total Tax"/>
                    <field name="grand_total" sum="Grand Total"/>
                </list>
            </field>
        </record>

        <!-- Preview List for Detail View -->
        <record id="view_sales_book_preview_list_detail" model="ir.ui.view">
            <field name="name">sales.book.preview.line.list.detail</field>
            <field name="model">sales.book.preview.line</field>
            <field name="arch" type="xml">
                <list string="Sales Book Preview - Detail" create="false" edit="false" delete="false">
                    <field name="date"/>
                    <field name="customer"/>
                    <field name="invoice_ref"/>
                    <field name="gross" sum="Total Gross"/>
                    <field name="trade_disc" sum="Total Trade Disc"/>
                    <field name="net_total" sum="Total Net"/>
                    <field name="add_disc" sum="Total Add. Disc"/>
                    <field name="add_cost" sum="Total Add. Cost"/>
                    <field name="round_off" sum="Total Round Off"/>
                    <field name="adj_amount" sum="Total Adj"/>
                    <field name="tax_amount" sum="Total Tax"/>
                    <field name="grand_total" sum="Grand Total"/>
                </list>
            </field>
        </record>

        <!-- Preview List for Detail View - Combined Report -->
        <record id="view_sales_book_preview_list_detail_combined" model="ir.ui.view">
            <field name="name">sales.book.preview.line.list.detail.combined</field>
            <field name="model">sales.book.preview.line</field>
            <field name="arch" type="xml">
                <list string="Sales Book Preview - Detail Combined" create="false" edit="false" delete="false">
                    <field name="date"/>
                    <field name="transaction_type"/>
                    <field name="customer"/>
                    <field name="invoice_ref"/>
                    <field name="gross" sum="Total Gross"/>
                    <field name="trade_disc" sum="Total Trade Disc"/>
                    <field name="net_total" sum="Total Net"/>
                    <field name="add_disc" sum="Total Add. Disc"/>
                    <field name="add_cost" sum="Total Add. Cost"/>
                    <field name="round_off" sum="Total Round Off"/>
                    <field name="adj_amount" sum="Total Adj"/>
                    <field name="tax_amount" sum="Total Tax"/>
                    <field name="grand_total" sum="Grand Total"/>
                </list>
            </field>
        </record>

        <!-- Preview Form -->
        <record id="view_sales_book_wizard_preview_form" model="ir.ui.view">
            <field name="name">sales.book.wizard.preview.form</field>
            <field name="model">sales.book.wizard</field>
            <field name="priority">20</field>
            <field name="arch" type="xml">
                <form string="Sales Book Preview" create="false" edit="false">
                    <sheet>
                        <div class="oe_title">
                            <h1>
                                <field name="report_type" readonly="1" widget="radio" options="{'horizontal': true}"/>
                            </h1>
                        </div>
                        <group>
                            <group>
                                <field name="view_type" readonly="1"/>
                                <field name="filter_type" readonly="1"/>
                            </group>
                            <group>
                                <label for="date_from" string="Date Range"/>
                                <div>
                                    <field name="date_from" readonly="1" class="oe_inline"/>
                                    <span> to </span>
                                    <field name="date_to" readonly="1" class="oe_inline"/>
                                </div>
                            </group>
                        </group>

                        <notebook>
                            <page string="Preview Data">
                                <!-- Short View - Sales/Return Only -->
                                <field name="preview_line_ids"
                                       readonly="1"
                                       nolabel="1"
                                       context="{'tree_view_ref': 'sales_book.view_sales_book_preview_list_short'}"
                                       invisible="view_type == 'detail' or report_type == 'both'"/>

                                <!-- Short View - Combined Report -->
                                <field name="preview_line_ids"
                                       readonly="1"
                                       nolabel="1"
                                       context="{'tree_view_ref': 'sales_book.view_sales_book_preview_list_short_combined'}"
                                       invisible="view_type == 'detail' or report_type != 'both'"/>

                                <!-- Detail View - Sales/Return Only -->
                                <field name="preview_line_ids"
                                       readonly="1"
                                       nolabel="1"
                                       context="{'tree_view_ref': 'sales_book.view_sales_book_preview_list_detail'}"
                                       invisible="view_type == 'short' or report_type == 'both'"/>

                                <!-- Detail View - Combined Report -->
                                <field name="preview_line_ids"
                                       readonly="1"
                                       nolabel="1"
                                       context="{'tree_view_ref': 'sales_book.view_sales_book_preview_list_detail_combined'}"
                                       invisible="view_type == 'short' or report_type != 'both'"/>
                            </page>
                        </notebook>
                    </sheet>
                    <footer>
                        <button string="Print PDF" name="action_print_report" type="object" class="btn-primary"/>
                        <button string="Close" class="btn-secondary" special="cancel"/>
                    </footer>
                </form>
            </field>
        </record>

        <!-- Actions -->
        <record id="action_sales_book_wizard" model="ir.actions.act_window">
            <field name="name">Sales Book</field>
            <field name="res_model">sales.book.wizard</field>
            <field name="view_mode">form</field>
            <field name="target">new</field>
            <field name="context">{'default_report_type': 'sales'}</field>
        </record>

        <record id="action_sales_return_wizard" model="ir.actions.act_window">
            <field name="name">Sales Return Book</field>
            <field name="res_model">sales.book.wizard</field>
            <field name="view_mode">form</field>
            <field name="target">new</field>
            <field name="context">{'default_report_type': 'return'}</field>
        </record>

        <record id="action_sales_both_wizard" model="ir.actions.act_window">
            <field name="name">Sales &amp; Sales Return Book</field>
            <field name="res_model">sales.book.wizard</field>
            <field name="view_mode">form</field>
            <field name="target">new</field>
            <field name="context">{'default_report_type': 'both'}</field>
        </record>
    </data>
</odoo>











<!--<?xml version="1.0" encoding="utf-8"?>-->
<!--<odoo>-->
<!--    <data>-->
<!--        <record id="view_sales_book_wizard_form" model="ir.ui.view">-->
<!--            <field name="name">sales.book.wizard.form</field>-->
<!--            <field name="model">sales.book.wizard</field>-->
<!--            <field name="arch" type="xml">-->
<!--                <form string="Sales Book Report">-->
<!--                    <group>-->
<!--                        <group>-->
<!--                            <field name="view_type"/>-->
<!--                            <field name="filter_type"/>-->
<!--                        </group>-->
<!--                        <group>-->
<!--                            <field name="include_expense"/>-->
<!--                        </group>-->
<!--                    </group>-->
<!--                    <group>-->
<!--                        <group>-->
<!--                            <label for="date_from" string="Date Range"/>-->
<!--                            <div class="o_row">-->
<!--                                <field name="date_from" class="oe_inline"/>-->
<!--                                <span class="oe_inline"> to </span>-->
<!--                                <field name="date_to" class="oe_inline"/>-->
<!--                            </div>-->
<!--                        </group>-->
<!--                        <group>-->
<!--                            <field name="partner_ids" widget="many2many_tags" placeholder="All Customers"/>-->
<!--                            <field name="analytic_account_ids" widget="many2many_tags" placeholder="All Analytic Accounts"/>-->
<!--                        </group>-->
<!--                    </group>-->
<!--                    <field name="report_type" invisible="1"/>-->
<!--                    <footer>-->
<!--                        <button string="Print PDF" name="action_print_report" type="object" class="btn-primary"/>-->
<!--                        <button string="Exit" class="btn-secondary" special="cancel"/>-->
<!--                    </footer>-->
<!--                </form>-->
<!--            </field>-->
<!--        </record>-->

<!--        <record id="action_sales_book_wizard" model="ir.actions.act_window">-->
<!--            <field name="name">Sales Book</field>-->
<!--            <field name="res_model">sales.book.wizard</field>-->
<!--            <field name="view_mode">form</field>-->
<!--            <field name="target">new</field>-->
<!--            <field name="context">{'default_report_type': 'sales'}</field>-->
<!--        </record>-->

<!--        <record id="action_sales_return_wizard" model="ir.actions.act_window">-->
<!--            <field name="name">Sales Return Book</field>-->
<!--            <field name="res_model">sales.book.wizard</field>-->
<!--            <field name="view_mode">form</field>-->
<!--            <field name="target">new</field>-->
<!--            <field name="context">{'default_report_type': 'return'}</field>-->
<!--        </record>-->

<!--        <record id="action_sales_both_wizard" model="ir.actions.act_window">-->
<!--            <field name="name">Sales &amp; Sales Return Book</field>-->
<!--            <field name="res_model">sales.book.wizard</field>-->
<!--            <field name="view_mode">form</field>-->
<!--            <field name="target">new</field>-->
<!--            <field name="context">{'default_report_type': 'both'}</field>-->
<!--        </record>-->
<!--    </data>-->
<!--</odoo>-->