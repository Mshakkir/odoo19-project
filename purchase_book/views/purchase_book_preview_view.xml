<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <!-- Preview Tree View for Purchase/Return Reports -->
        <record id="view_purchase_book_preview_tree" model="ir.ui.view">
            <field name="name">purchase.book.preview.tree</field>
            <field name="model">purchase.book.preview</field>
            <field name="arch" type="xml">
                <list string="Purchase Book Preview" create="false" edit="false" delete="false"
                      decoration-bf="is_subtotal==True" decoration-muted="is_subtotal==True">
                    <field name="date"/>
                    <field name="subtotal_label" optional="hide"/>
                    <field name="transaction_type" string="Type"
                           column_invisible="context.get('report_type') != 'both'"/>
                    <field name="vendor"
                           column_invisible="context.get('view_type') == 'short'"/>
                    <field name="invoice_ref" string="Invoice/Ref"
                           column_invisible="context.get('view_type') == 'short'"/>
                    <field name="gross" sum="Total Gross"/>
                    <field name="trade_disc" sum="Total Tr. Disc"/>
                    <field name="net_total" sum="Total Net"/>
                    <field name="add_disc" sum="Total Ad. Disc" optional="hide"/>
                    <field name="add_cost" sum="Total Ad. Cost" optional="hide"/>
                    <field name="round_off" sum="Total Round Off" optional="hide"/>
                    <field name="adj_amount" sum="Total Adj." optional="hide"/>
                    <field name="tax_amount" sum="Total Tax"/>
                    <field name="grand_total" sum="Grand Total"/>
                    <field name="is_subtotal" column_invisible="1"/>
                    <field name="sequence" column_invisible="1"/>
                    <field name="wizard_id" column_invisible="1"/>
                </list>
            </field>
        </record>

        <!-- Preview Action -->
        <record id="action_purchase_book_preview" model="ir.actions.act_window">
            <field name="name">Purchase Book Preview</field>
            <field name="res_model">purchase.book.preview</field>
            <field name="view_mode">list</field>
            <field name="view_id" ref="view_purchase_book_preview_tree"/>
            <field name="target">new</field>
        </record>

    </data>
</odoo>