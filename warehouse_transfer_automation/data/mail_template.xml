<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="1">

        <!-- Email Template for Request Notification -->
        <record id="mail_template_warehouse_request" model="mail.template">
            <field name="name">Warehouse Stock Request</field>
            <field name="model_id" ref="stock.model_stock_picking"/>
            <field name="subject">New Stock Request from {{ object.picking_type_id.warehouse_id.name }}</field>
            <field name="email_from">{{ (object.create_uid.email_formatted or user.email_formatted) }}</field>
            <field name="body_html" type="html">
                <div style="font-family: Arial, sans-serif; font-size: 14px;">
                    <p>Hello,</p>
                    <p><strong>{{ object.picking_type_id.warehouse_id.name }}</strong> has requested stock from your warehouse.</p>

                    <h3>Requested Products:</h3>
                    <table style="border-collapse: collapse; width: 100%;">
                        <tr style="background-color: #f2f2f2;">
                            <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">Product</th>
                            <th style="border: 1px solid #ddd; padding: 8px; text-align: right;">Quantity</th>
                        </tr>
                        <t t-foreach="object.move_ids" t-as="move">
                            <tr>
                                <td style="border: 1px solid #ddd; padding: 8px;"><t t-esc="move.product_id.name"/></td>
                                <td style="border: 1px solid #ddd; padding: 8px; text-align: right;">
                                    <t t-esc="move.product_uom_qty"/> <t t-esc="move.product_uom.name"/>
                                </td>
                            </tr>
                        </t>
                    </table>

                    <p style="margin-top: 20px;">
                        <strong>Transfer Reference:</strong> <t t-esc="object.name"/><br/>
                        <strong>Scheduled Date:</strong> <t t-esc="object.scheduled_date"/>
                    </p>

                    <p>Please review and validate this request in the system.</p>

                    <p>Thank you!</p>
                </div>
            </field>
        </record>

    </data>
</odoo>
