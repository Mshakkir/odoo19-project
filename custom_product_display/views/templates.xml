<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Simple Product Display -->
    <template id="simple_product_display" name="Simple Product Display">
        <t t-if="products_with_inventory">
            <div class="container my-4">
                <h3 class="text-center mb-4">Available Products</h3>
                <div class="row">
                    <t t-foreach="products_with_inventory" t-as="item">
                        <div class="col-md-3 col-sm-6 mb-4">
                            <div class="card h-100">
                                <!-- Image -->
                                <img t-att-src="item.get('image_url', '/website/static/src/img/product_image_placeholder.svg')"
                                     class="card-img-top"
                                     style="height: 150px; object-fit: cover;"
                                     t-att-alt="item.get('product', {}).name"/>

                                <div class="card-body">
                                    <!-- Name -->
                                    <h6 class="card-title" t-esc="item.get('product', {}).name"/>

                                    <!-- Stock -->
                                    <div class="mb-2">
                                        <t t-set="qty" t-value="item.get('qty_available', 0)"/>
                                        <t t-if="qty > 0">
                                            <span class="badge bg-success">In Stock: <t t-esc="qty"/></span>
                                        </t>
                                        <t t-else="">
                                            <span class="badge bg-danger">Out of Stock</span>
                                        </t>
                                    </div>

                                    <!-- Price -->
                                    <p class="text-primary h5 mb-3">
                                        $<t t-esc="item.get('price', 0)"/>
                                    </p>

                                    <!-- Button -->
                                    <a t-att-href="'/shop/product/%s' % item.get('product', {}).id"
                                       class="btn btn-primary btn-sm">
                                        View Details
                                    </a>
                                </div>
                            </div>
                        </div>
                    </t>
                </div>
            </div>
        </t>
    </template>

    <!-- Add to shop page -->
    <template id="add_to_shop" name="Add to Shop" inherit_id="website_sale.products">
        <xpath expr="." position="inside">
            <t t-if="products_with_inventory">
                <t t-call="custom_product_display.simple_product_display"/>
            </t>
        </xpath>
    </template>
</odoo>














<!--<?xml version="1.0" encoding="utf-8"?>-->
<!--<odoo>-->
<!--    &lt;!&ndash; Template for Product Cards with Inventory Info &ndash;&gt;-->
<!--    <template id="custom_product_display_template" name="Custom Product Display">-->
<!--        <section class="mt-4 mb-5">-->
<!--            <div class="container">-->
<!--                <div class="row mb-4">-->
<!--                    <div class="col-12">-->
<!--                        <h2 class="text-center">Available Products</h2>-->
<!--                    </div>-->
<!--                </div>-->

<!--                <div class="row">-->
<!--                    <t t-foreach="products_with_inventory" t-as="product_data">-->
<!--                        <div class="col-lg-3 col-md-4 col-sm-6 mb-4">-->
<!--                            <div class="card h-100 shadow-sm border-0">-->
<!--                                &lt;!&ndash; Product Image &ndash;&gt;-->
<!--                                <div style="height: 200px; overflow: hidden;">-->
<!--                                    <img t-att-src="product_data.image_url"-->
<!--                                         class="img-fluid w-100 h-100"-->
<!--                                         style="object-fit: cover;"-->
<!--                                         t-att-alt="product_data.product.name"/>-->
<!--                                </div>-->

<!--                                <div class="card-body d-flex flex-column">-->
<!--                                    &lt;!&ndash; Product Name &ndash;&gt;-->
<!--                                    <h6 class="card-title fw-bold text-truncate"-->
<!--                                        t-esc="product_data.product.name"/>-->

<!--                                    &lt;!&ndash; SKU &ndash;&gt;-->
<!--                                    <small class="text-muted mb-2" t-esc="product_data.product.default_code or ''"/>-->

<!--                                    &lt;!&ndash; Stock Status &ndash;&gt;-->
<!--                                    <div class="mb-3">-->
<!--                                        <t t-if="product_data.inventory.total_quantity > 0">-->
<!--                                            <span class="badge bg-success">-->
<!--                                                <i class="fa fa-check me-1"></i>-->
<!--                                                In Stock-->
<!--                                            </span>-->
<!--                                            <small class="text-muted ms-2">-->
<!--                                                (Qty: <t t-esc="product_data.inventory.total_quantity"/>)-->
<!--                                            </small>-->
<!--                                        </t>-->
<!--                                        <t t-else="">-->
<!--                                            <span class="badge bg-danger">-->
<!--                                                <i class="fa fa-times me-1"></i>-->
<!--                                                Out of Stock-->
<!--                                            </span>-->
<!--                                        </t>-->
<!--                                    </div>-->

<!--                                    &lt;!&ndash; Price &ndash;&gt;-->
<!--                                    <div class="mb-3">-->
<!--                                        <h5 class="text-primary mb-0">-->
<!--                                            <t t-esc="product_data.currency.symbol"/>-->
<!--                                            <t t-esc="product_data.price"/>-->
<!--                                        </h5>-->
<!--                                    </div>-->

<!--                                    &lt;!&ndash; Buttons &ndash;&gt;-->
<!--                                    <div class="mt-auto">-->
<!--                                        <div class="d-flex justify-content-between">-->
<!--                                            <a t-att-href="'/shop/product/%s' % product_data.product.id"-->
<!--                                               class="btn btn-outline-primary btn-sm">-->
<!--                                                View-->
<!--                                            </a>-->
<!--                                            <t t-if="product_data.inventory.total_quantity > 0">-->
<!--                                                <a t-attf-href="/shop/cart?add=#{product_data.product.id}"-->
<!--                                                   class="btn btn-success btn-sm">-->
<!--                                                    Add to Cart-->
<!--                                                </a>-->
<!--                                            </t>-->
<!--                                        </div>-->
<!--                                    </div>-->
<!--                                </div>-->
<!--                            </div>-->
<!--                        </div>-->
<!--                    </t>-->
<!--                </div>-->
<!--            </div>-->
<!--        </section>-->
<!--    </template>-->

<!--    &lt;!&ndash; Inherit the main products page - Simple XPath &ndash;&gt;-->
<!--    <template id="inherit_products_page" name="Custom Products Page" inherit_id="website_sale.products">-->
<!--        <xpath expr="//div[contains(@class, 'container')]" position="inside">-->
<!--            <t t-if="products_with_inventory">-->
<!--                <t t-call="custom_product_display.custom_product_display_template"/>-->
<!--            </t>-->
<!--        </xpath>-->
<!--    </template>-->
<!--</odoo>-->

