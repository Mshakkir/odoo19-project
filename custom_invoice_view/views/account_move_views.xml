<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <!-- Inherit the invoice tree view -->
        <record id="view_out_invoice_tree_custom" model="ir.ui.view">
            <field name="name">account.move.tree.custom</field>
            <field name="model">account.move</field>
            <field name="inherit_id" ref="account.view_out_invoice_tree"/>
            <field name="arch" type="xml">

                <!-- Add Invoice Date after name field -->
                <xpath expr="//field[@name='name']" position="after">
                    <field name="invoice_date" string="Invoice Date"/>
                </xpath>

                <!-- Add Customer (partner_id) if not already visible -->
                <xpath expr="//field[@name='partner_id']" position="attributes">
                    <attribute name="optional">show</attribute>
                </xpath>

                <!-- Add Reference field -->
                <xpath expr="//field[@name='partner_id']" position="after">
                    <field name="ref" string="Reference" optional="show"/>
                </xpath>

                <!-- Add Tax Excluded Amount -->
                <xpath expr="//field[@name='amount_total']" position="before">
                    <field name="amount_untaxed" string="Tax Excluded" sum="Total" optional="show"/>
                </xpath>

                <!-- Add Tax Amount -->
                <xpath expr="//field[@name='amount_total']" position="before">
                    <field name="amount_tax" string="Tax" sum="Total Tax" optional="show"/>
                </xpath>

                <!-- Make Total visible -->
                <xpath expr="//field[@name='amount_total']" position="attributes">
                    <attribute name="optional">show</attribute>
                    <attribute name="sum">Total Amount</attribute>
                </xpath>

                <!-- Add Amount Due -->
                <xpath expr="//field[@name='amount_total']" position="after">
                    <field name="amount_residual" string="Amount Due" sum="Total Due" optional="show"/>
                </xpath>

                <!-- Add Salesperson -->
                <xpath expr="//field[@name='amount_residual']" position="after">
                    <field name="invoice_user_id" string="Salesperson" optional="show" widget="many2one_avatar_user"/>
                </xpath>

                <!-- Add Source Document (Shipping Ref) -->
                <xpath expr="//field[@name='invoice_user_id']" position="after">
                    <field name="invoice_origin" string="Source Document" optional="show"/>
                </xpath>

                <!-- Add Shipping Reference Number -->
                <xpath expr="//field[@name='invoice_origin']" position="after">
                    <field name="l10n_in_shipping_bill_number" string="Shipping Ref #" optional="show"/>
                </xpath>

                <!-- Add Due Date -->
                <xpath expr="//field[@name='invoice_date']" position="after">
                    <field name="invoice_date_due" string="Due Date" optional="show"/>
                </xpath>

            </field>
        </record>

    </data>
</odoo>