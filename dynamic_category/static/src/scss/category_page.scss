<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Hide Category Description on Shop Pages -->
    <template id="hide_shop_category_description" inherit_id="website.layout" name="Hide Shop Category Description">
        <xpath expr="//head" position="inside">
            <style>
                /* Hide category description on shop pages */
                #category_header,
                .o_wsale_category_description {
                    display: none !important;
                    visibility: hidden !important;
                    height: 0 !important;
                    overflow: hidden !important;
                    margin: 0 !important;
                    padding: 0 !important;
                    opacity: 0 !important;
                }

                /* Additional selectors for category description */
                div[data-oe-model="product.public.category"][data-oe-field="website_description"] {
                    display: none !important;
                    visibility: hidden !important;
                    height: 0 !important;
                    overflow: hidden !important;
                    margin: 0 !important;
                    padding: 0 !important;
                }

                /* Hide on shop pages specifically */
                body.oe_website_sale #category_header,
                body.oe_website_sale .o_wsale_category_description,
                body.oe_website_sale div[data-oe-field="website_description"] {
                    display: none !important;
                }

                /* Target the exact structure from your inspect */
                div[data-oe-xpath*="o_wsale_category_description"],
                div[data-editor-message*="Drag building blocks here to customize the header"] {
                    display: none !important;
                    visibility: hidden !important;
                    height: 0 !important;
                }
            </style>
        </xpath>
    </template>

    <!-- JavaScript fallback to ensure description is hidden -->
    <template id="hide_category_desc_js" inherit_id="website.layout" name="Hide Category Description JS">
        <xpath expr="//body" position="inside">
            <script type="text/javascript">
                <![CDATA[
                document.addEventListener('DOMContentLoaded', function() {
                    // Function to hide category descriptions
                    function hideCategoryDescriptions() {
                        // Target by ID
                        var categoryHeader = document.getElementById('category_header');
                        if (categoryHeader) {
                            categoryHeader.style.display = 'none';
                            categoryHeader.style.visibility = 'hidden';
                            categoryHeader.style.height = '0';
                            categoryHeader.style.overflow = 'hidden';
                            categoryHeader.style.margin = '0';
                            categoryHeader.style.padding = '0';
                        }

                        // Target by class
                        var descElements = document.querySelectorAll('.o_wsale_category_description');
                        descElements.forEach(function(el) {
                            el.style.display = 'none';
                            el.style.visibility = 'hidden';
                            el.style.height = '0';
                            el.style.overflow = 'hidden';
                            el.style.margin = '0';
                            el.style.padding = '0';
                        });

                        // Target by data attribute
                        var dataElements = document.querySelectorAll('div[data-oe-model="product.public.category"][data-oe-field="website_description"]');
                        dataElements.forEach(function(el) {
                            el.style.display = 'none';
                            el.style.visibility = 'hidden';
                            el.style.height = '0';
                            el.style.overflow = 'hidden';
                            el.style.margin = '0';
                            el.style.padding = '0';
                        });

                        // Target by xpath attribute
                        var xpathElements = document.querySelectorAll('div[data-oe-xpath]');
                        xpathElements.forEach(function(el) {
                            if (el.className.includes('o_wsale_category_description') ||
                                el.id === 'category_header' ||
                                el.hasAttribute('data-oe-field') && el.getAttribute('data-oe-field') === 'website_description') {
                                el.style.display = 'none';
                                el.style.visibility = 'hidden';
                                el.style.height = '0';
                                el.style.overflow = 'hidden';
                                el.style.margin = '0';
                                el.style.padding = '0';
                            }
                        });
                    }

                    // Run immediately
                    hideCategoryDescriptions();

                    // Run again after a short delay to catch dynamically loaded content
                    setTimeout(hideCategoryDescriptions, 100);
                    setTimeout(hideCategoryDescriptions, 500);
                    setTimeout(hideCategoryDescriptions, 1000);

                    // Use MutationObserver to catch any dynamic changes
                    var observer = new MutationObserver(function(mutations) {
                        hideCategoryDescriptions();
                    });

                    // Start observing the document body for changes
                    observer.observe(document.body, {
                        childList: true,
                        subtree: true
                    });
                });
                ]]>
            </script>
        </xpath>
    </template>
</odoo>













// /* Dynamic Category Page Styles */
//
// .category-slider-wrapper {
//     position: relative;
//     display: flex;
//     align-items: center;
//     gap: 15px;
//     margin-bottom: 30px;
//     padding: 0 10px;
// }
//
// .slider-arrow {
//     background: #f1f3f5;
//     border: none;
//     width: 40px;
//     height: 40px;
//     border-radius: 50%;
//     display: flex;
//     align-items: center;
//     justify-content: center;
//     cursor: pointer;
//     transition: all 0.3s ease;
//     flex-shrink: 0;
//     z-index: 10;
// }
//
// .slider-arrow:hover {
//     background: #007bff;
//     color: #fff;
//     transform: scale(1.1);
// }
//
// .category-tabs-container {
//     flex: 1;
//     overflow: hidden;
//     position: relative;
// }
//
// .category-tabs {
//     display: flex;
//     gap: 12px;
//     overflow-x: auto;
//     scroll-behavior: smooth;
//     scrollbar-width: none;
//     -ms-overflow-style: none;
//     padding: 10px 0;
// }
//
// .category-tabs::-webkit-scrollbar {
//     display: none;
// }
//
// .cat-btn {
//     background: #f1f3f5;
//     border: none;
//     padding: 12px 24px;
//     border-radius: 25px;
//     font-weight: 600;
//     cursor: pointer;
//     transition: all 0.3s ease;
//     white-space: nowrap;
//     flex-shrink: 0;
//     font-size: 0.95rem;
// }
//
// .cat-btn:hover {
//     background: #007bff;
//     color: #fff;
//     transform: translateY(-2px);
//     box-shadow: 0 4px 12px rgba(0,123,255,0.3);
// }
//
// .cat-btn.active {
//     background: #007bff;
//     color: #fff;
//     box-shadow: 0 4px 12px rgba(0,123,255,0.3);
// }
//
// .category-content {
//     position: relative;
//     min-height: 400px;
// }
//
// .cat-panel {
//     position: absolute;
//     width: 100%;
//     opacity: 0;
//     visibility: hidden;
//     background: #f8f9fa;
//     padding: 40px;
//     border-radius: 20px;
//     box-shadow: 0 8px 24px rgba(0,0,0,0.06);
//     transition: opacity 0.5s ease, transform 0.5s ease, visibility 0.5s;
//     transform: translateY(20px);
// }
//
// .cat-panel.active {
//     position: relative;
//     opacity: 1;
//     visibility: visible;
//     transform: translateY(0);
// }
//
// .cat-panel h3 {
//     color: #007bff;
//     font-weight: 700;
//     margin-bottom: 16px;
// }
//
// .cat-panel p {
//     font-size: 1.05rem;
//     line-height: 1.7;
//     color: #555;
//     margin-bottom: 16px;
// }
//
// .cat-panel ul {
//     list-style: none;
//     padding: 0;
// }
//
// .cat-panel ul li {
//     padding: 8px 0;
//     padding-left: 28px;
//     position: relative;
//     color: #444;
//     font-size: 1rem;
// }
//
// .cat-panel ul li:before {
//     content: "âœ“";
//     position: absolute;
//     left: 0;
//     color: #007bff;
//     font-weight: bold;
//     font-size: 1.2rem;
// }
//
// .animate-on-scroll {
//     opacity: 0;
//     transform: translateY(40px);
//     animation: fadeInUp 0.8s ease-out forwards;
// }
//
// @keyframes fadeInUp {
//     to {
//         opacity: 1;
//         transform: translateY(0);
//     }
// }
//
// @media (max-width: 768px) {
//     .cat-panel {
//         padding: 25px 20px;
//     }
//
//     .slider-arrow {
//         width: 35px;
//         height: 35px;
//     }
//
//     .cat-btn {
//         padding: 10px 18px;
//         font-size: 0.9rem;
//     }
// }